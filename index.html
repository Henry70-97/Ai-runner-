<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Runner - Microtask Platform</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com/3.4.17"></script>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&amp;family=Orbitron:wght@400;500;600;700;800;900&amp;display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            'space': ['Space Grotesk', 'sans-serif'],
            'orbitron': ['Orbitron', 'sans-serif']
          },
          colors: {
            'neon-blue': '#00d4ff',
            'neon-purple': '#8b5cf6',
            'neon-green': '#10b981',
            'neon-pink': '#ec4899',
            'dark-bg': '#0a0a1a',
            'dark-card': '#12122a',
            'dark-surface': '#1a1a3a'
          }
        }
      }
    }
  </script>
  <style>
    * { box-sizing: border-box; }
    html, body { height: 100%; margin: 0; padding: 0; }
    
    .video-background {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -2;
      opacity: 0.3;
      filter: blur(2px);
    }
    
    .video-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(10,10,26,0.85) 0%, rgba(18,18,42,0.9) 50%, rgba(26,26,58,0.85) 100%);
      z-index: -1;
    }
    
    .glow-card {
      background: linear-gradient(145deg, rgba(18,18,42,0.9), rgba(26,26,58,0.8));
      border: 1px solid rgba(0,212,255,0.2);
      box-shadow: 0 0 20px rgba(0,212,255,0.1), inset 0 0 20px rgba(0,212,255,0.05);
      transition: all 0.3s ease;
    }
    
    .glow-card:hover {
      border-color: rgba(0,212,255,0.4);
      box-shadow: 0 0 40px rgba(0,212,255,0.2), inset 0 0 30px rgba(0,212,255,0.1);
      transform: translateY(-2px);
    }
    
    .neon-text {
      text-shadow: 0 0 10px rgba(0,212,255,0.5), 0 0 20px rgba(0,212,255,0.3);
    }
    
    .neon-border {
      border: 1px solid rgba(0,212,255,0.3);
      box-shadow: 0 0 15px rgba(0,212,255,0.2);
    }
    
    .flag-stripe {
      height: 4px;
      background: linear-gradient(90deg, 
        #009639 0%, #009639 8.33%,
        #FCD116 8.33%, #FCD116 16.66%,
        #CE1126 16.66%, #CE1126 25%,
        #000000 25%, #000000 33.33%,
        #FCDD09 33.33%, #FCDD09 41.66%,
        #DA121A 41.66%, #DA121A 50%,
        #078930 50%, #078930 58.33%,
        #0072C6 58.33%, #0072C6 66.66%,
        #EF2B2D 66.66%, #EF2B2D 75%,
        #002395 75%, #002395 83.33%,
        #009E49 83.33%, #009E49 91.66%,
        #FFD100 91.66%, #FFD100 100%
      );
      background-size: 200% 100%;
      animation: flagMove 10s linear infinite;
    }
    
    @keyframes flagMove {
      0% { background-position: 0% 0%; }
      100% { background-position: 200% 0%; }
    }
    
    .rotating-progress {
      width: 40px;
      height: 40px;
      border: 3px solid rgba(0,212,255,0.2);
      border-top-color: #00d4ff;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .modal-overlay {
      background: rgba(0,0,0,0.8);
      backdrop-filter: blur(10px);
    }
    
    .btn-neon {
      background: linear-gradient(135deg, #00d4ff 0%, #8b5cf6 100%);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .btn-neon:hover {
      box-shadow: 0 0 30px rgba(0,212,255,0.5);
      transform: scale(1.02);
    }
    
    .btn-neon::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      animation: shimmer 2s infinite;
    }
    
    @keyframes shimmer {
      100% { left: 100%; }
    }
    
    .slide-in {
      animation: slideIn 0.3s ease-out;
    }
    
    @keyframes slideIn {
      from { transform: translateX(-100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    
    .fade-in {
      animation: fadeIn 0.5s ease-out;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .task-card {
      background: linear-gradient(145deg, rgba(26,26,58,0.9), rgba(18,18,42,0.9));
    }
    
    .task-card:nth-child(odd) {
      background: linear-gradient(145deg, rgba(139,92,246,0.1), rgba(18,18,42,0.9));
    }
    
    .task-card:nth-child(even) {
      background: linear-gradient(145deg, rgba(0,212,255,0.1), rgba(18,18,42,0.9));
    }
    
    .premium-badge {
      background: linear-gradient(135deg, #ffd700 0%, #ff8c00 100%);
    }
    
    ::-webkit-scrollbar {
      width: 8px;
    }
    
    ::-webkit-scrollbar-track {
      background: #0a0a1a;
    }
    
    ::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, #00d4ff, #8b5cf6);
      border-radius: 4px;
    }
  </style>
  <style>body { box-sizing: border-box; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full font-space text-white overflow-x-hidden"><!-- Video Background -->
  <video class="video-background" autoplay muted loop playsinline><source src="video.mp4" type="video/mp4">
  </video>
  <div class="video-overlay"></div><!-- Flag Stripe Top -->
  <div class="flag-stripe fixed top-0 left-0 right-0 z-50"></div><!-- Main App Container -->
  <div id="app" class="min-h-full w-full overflow-auto pt-1"><!-- Navigation -->
   <nav id="navbar" class="sticky top-1 z-40 px-4 py-3">
    <div class="max-w-7xl mx-auto flex items-center justify-between">
     <div class="flex items-center gap-3">
      <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-neon-blue to-neon-purple flex items-center justify-center"><span class="text-xl">ğŸ¤–</span>
      </div><span class="font-orbitron text-xl font-bold neon-text">AI Runner</span>
     </div><!-- Desktop Nav -->
     <div class="hidden md:flex items-center gap-6"><button onclick="showPage('landing')" class="hover:text-neon-blue transition">Home</button> <button onclick="showPage('plans')" class="hover:text-neon-blue transition">Plans</button> <button onclick="showPage('dashboard')" class="hover:text-neon-blue transition">Dashboard</button> <button onclick="showModal('login')" class="btn-neon px-6 py-2 rounded-xl font-semibold">Login</button>
     </div><!-- Mobile Menu Button --> <button id="menuBtn" onclick="toggleMenu()" class="md:hidden p-2 rounded-lg glow-card">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      </svg></button>
    </div>
   </nav><!-- Mobile Sidebar -->
   <div id="sidebar" class="fixed inset-0 z-50 hidden">
    <div class="absolute inset-0 bg-black/80" onclick="toggleMenu()"></div>
    <div class="absolute left-0 top-0 bottom-0 w-72 bg-dark-bg border-r border-neon-blue/20 slide-in">
     <div class="flag-stripe"></div>
     <div class="p-6">
      <div class="flex items-center gap-3 mb-8">
       <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-neon-blue to-neon-purple flex items-center justify-center"><span class="text-2xl">ğŸ¤–</span>
       </div><span class="font-orbitron text-xl font-bold neon-text">AI Runner</span>
      </div>
      <div id="sidebarUserInfo" class="hidden mb-6 p-4 glow-card rounded-xl">
       <p class="text-sm text-gray-400">Welcome back,</p>
       <p id="sidebarUsername" class="font-semibold text-neon-blue"></p>
       <p id="sidebarPlan" class="text-xs mt-1 px-2 py-1 rounded-full bg-neon-purple/20 inline-block"></p>
      </div>
      <nav class="space-y-2"><button onclick="showPage('dashboard'); toggleMenu();" class="w-full text-left px-4 py-3 rounded-xl hover:bg-neon-blue/10 transition flex items-center gap-3"> <span>ğŸ“Š</span> Dashboard </button> <button onclick="showPage('tasks'); toggleMenu();" class="w-full text-left px-4 py-3 rounded-xl hover:bg-neon-blue/10 transition flex items-center gap-3"> <span>ğŸ¯</span> AI Tasks </button> <button onclick="showPage('wallet'); toggleMenu();" class="w-full text-left px-4 py-3 rounded-xl hover:bg-neon-blue/10 transition flex items-center gap-3"> <span>ğŸ’°</span> Wallet </button> <button onclick="showPage('plans'); toggleMenu();" class="w-full text-left px-4 py-3 rounded-xl hover:bg-neon-blue/10 transition flex items-center gap-3"> <span>â­</span> Plans </button> <button onclick="handleExternalLink('chat')" class="w-full text-left px-4 py-3 rounded-xl hover:bg-neon-blue/10 transition flex items-center gap-3"> <span>ğŸ’¬</span> Chat &amp; Earn </button> <button onclick="handleExternalLink('primewatch')" class="w-full text-left px-4 py-3 rounded-xl hover:bg-neon-blue/10 transition flex items-center gap-3"> <span>ğŸ“º</span> Prime Watch </button> <button onclick="showPage('earnings'); toggleMenu();" class="w-full text-left px-4 py-3 rounded-xl hover:bg-neon-blue/10 transition flex items-center gap-3"> <span>ğŸ“ˆ</span> Earnings History </button> <button onclick="showModal('support')" class="w-full text-left px-4 py-3 rounded-xl hover:bg-neon-blue/10 transition flex items-center gap-3"> <span>ğŸ§</span> Support </button>
       <div class="border-t border-neon-blue/20 my-4"></div><button onclick="logout()" class="w-full text-left px-4 py-3 rounded-xl hover:bg-red-500/20 transition flex items-center gap-3 text-red-400"> <span>ğŸšª</span> Logout </button>
      </nav>
     </div>
     <div class="flag-stripe absolute bottom-0 left-0 right-0"></div>
    </div>
   </div><!-- Landing Page -->
   <div id="landingPage" class="page"><!-- Hero Section -->
    <section class="min-h-screen flex items-center justify-center px-4 py-20">
     <div class="max-w-4xl mx-auto text-center fade-in">
      <div class="inline-block mb-6 px-4 py-2 rounded-full bg-neon-purple/20 border border-neon-purple/30"><span class="text-sm">ğŸš€ AI-Powered Earning Platform</span>
      </div>
      <h1 id="heroHeadline" class="font-orbitron text-4xl md:text-6xl lg:text-7xl font-bold mb-6 bg-gradient-to-r from-neon-blue via-neon-purple to-neon-pink bg-clip-text text-transparent">Run AI Tasks. Earn Instantly.</h1>
      <p id="heroSubtext" class="text-lg md:text-xl text-gray-300 mb-10 max-w-2xl mx-auto">Complete AI microtasks and get paid <span class="text-neon-green font-bold">$0.01 â€“ $4</span> per task. Join thousands earning with artificial intelligence.</p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center"><button onclick="showModal('register')" class="btn-neon px-8 py-4 rounded-xl font-bold text-lg"> Join Free ğŸ‰ </button> <button onclick="showModal('upgrade')" class="px-8 py-4 rounded-xl font-bold text-lg border-2 border-neon-purple hover:bg-neon-purple/20 transition"> Upgrade to Premium â­ </button>
      </div><!-- Stats -->
      <div class="grid grid-cols-3 gap-4 mt-16 max-w-2xl mx-auto">
       <div class="glow-card rounded-xl p-4">
        <p class="font-orbitron text-2xl md:text-3xl font-bold text-neon-blue">50K+</p>
        <p class="text-sm text-gray-400">Active Users</p>
       </div>
       <div class="glow-card rounded-xl p-4">
        <p class="font-orbitron text-2xl md:text-3xl font-bold text-neon-green">$1M+</p>
        <p class="text-sm text-gray-400">Paid Out</p>
       </div>
       <div class="glow-card rounded-xl p-4">
        <p class="font-orbitron text-2xl md:text-3xl font-bold text-neon-purple">100+</p>
        <p class="text-sm text-gray-400">AI Tasks</p>
       </div>
      </div>
     </div>
    </section><!-- How It Works -->
    <section class="py-20 px-4 bg-gradient-to-b from-transparent to-dark-surface/50">
     <div class="max-w-6xl mx-auto">
      <div class="text-center mb-16">
       <h2 class="font-orbitron text-3xl md:text-4xl font-bold mb-4 neon-text">How AI Runner Works</h2>
       <p class="text-gray-400">Start earning in 3 simple steps</p>
       <div class="rotating-progress mx-auto mt-6"></div>
      </div>
      <div class="grid md:grid-cols-3 gap-8">
       <div class="glow-card rounded-2xl p-8 text-center fade-in">
        <div class="w-20 h-20 mx-auto mb-6 rounded-2xl bg-gradient-to-br from-neon-blue/20 to-neon-purple/20 flex items-center justify-center text-4xl">
         ğŸ“
        </div>
        <h3 class="font-orbitron text-xl font-bold mb-3">1. Register</h3>
        <p class="text-gray-400">Create your free account in seconds. No credit card required.</p>
       </div>
       <div class="glow-card rounded-2xl p-8 text-center fade-in" style="animation-delay: 0.2s;">
        <div class="w-20 h-20 mx-auto mb-6 rounded-2xl bg-gradient-to-br from-neon-green/20 to-neon-blue/20 flex items-center justify-center text-4xl">
         ğŸ¤–
        </div>
        <h3 class="font-orbitron text-xl font-bold mb-3">2. Complete AI Tasks</h3>
        <p class="text-gray-400">Train AI models, tag data, test prompts, and evaluate responses.</p>
       </div>
       <div class="glow-card rounded-2xl p-8 text-center fade-in" style="animation-delay: 0.4s;">
        <div class="w-20 h-20 mx-auto mb-6 rounded-2xl bg-gradient-to-br from-neon-pink/20 to-neon-purple/20 flex items-center justify-center text-4xl">
         ğŸ’°
        </div>
        <h3 class="font-orbitron text-xl font-bold mb-3">3. Earn &amp; Withdraw</h3>
        <p class="text-gray-400">Get paid instantly. Withdraw via Bank or PayPal.</p>
       </div>
      </div>
     </div>
    </section><!-- Task Categories Preview -->
    <section class="py-20 px-4">
     <div class="max-w-6xl mx-auto">
      <div class="text-center mb-16">
       <h2 class="font-orbitron text-3xl md:text-4xl font-bold mb-4 neon-text">AI Task Categories</h2>
       <p class="text-gray-400">Choose from 100+ available tasks</p>
      </div>
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
       <div class="glow-card rounded-2xl p-6 hover:scale-105 transition">
        <div class="flex items-center gap-4 mb-4"><span class="text-3xl">ğŸ’¬</span>
         <h3 class="font-orbitron text-lg font-bold">AI Chat Missions</h3>
        </div>
        <p class="text-gray-400 text-sm mb-4">Train AI to speak like humans. Teach natural language patterns.</p>
        <p class="text-neon-green font-bold">$0.05 - $2.00 per task</p>
       </div>
       <div class="glow-card rounded-2xl p-6 hover:scale-105 transition">
        <div class="flex items-center gap-4 mb-4"><span class="text-3xl">âœï¸</span>
         <h3 class="font-orbitron text-lg font-bold">Rewrite &amp; Improve</h3>
        </div>
        <p class="text-gray-400 text-sm mb-4">Correct grammatical errors and improve AI-generated content.</p>
        <p class="text-neon-green font-bold">$0.03 - $1.50 per task</p>
       </div>
       <div class="glow-card rounded-2xl p-6 hover:scale-105 transition">
        <div class="flex items-center gap-4 mb-4"><span class="text-3xl">ğŸŒ</span>
         <h3 class="font-orbitron text-lg font-bold">Translation Tasks</h3>
        </div>
        <p class="text-gray-400 text-sm mb-4">Translate between English, Swahili, and Sheng.</p>
        <p class="text-neon-green font-bold">$0.10 - $3.00 per task</p>
       </div>
       <div class="glow-card rounded-2xl p-6 hover:scale-105 transition">
        <div class="flex items-center gap-4 mb-4"><span class="text-3xl">ğŸ¯</span>
         <h3 class="font-orbitron text-lg font-bold">Prompt Challenges</h3>
        </div>
        <p class="text-gray-400 text-sm mb-4">Create effective prompts for AI to generate websites, apps, etc.</p>
        <p class="text-neon-green font-bold">$0.20 - $4.00 per task</p>
       </div>
       <div class="glow-card rounded-2xl p-6 hover:scale-105 transition">
        <div class="flex items-center gap-4 mb-4"><span class="text-3xl">ğŸ§ </span>
         <h3 class="font-orbitron text-lg font-bold">AI Teach</h3>
        </div>
        <p class="text-gray-400 text-sm mb-4">Share opinions on global trending issues to train AI understanding.</p>
        <p class="text-neon-green font-bold">$0.15 - $2.50 per task</p>
       </div>
       <div class="glow-card rounded-2xl p-6 flex items-center justify-center bg-gradient-to-br from-neon-purple/20 to-neon-pink/20">
        <div class="text-center">
         <p class="font-orbitron text-2xl font-bold mb-2">100+</p>
         <p class="text-gray-400">More Tasks Available</p><button onclick="showModal('register')" class="mt-4 btn-neon px-6 py-2 rounded-xl text-sm"> Get Started </button>
        </div>
       </div>
      </div>
     </div>
    </section>
   </div><!-- Plans Page -->
   <div id="plansPage" class="page hidden">
    <section class="py-20 px-4">
     <div class="max-w-5xl mx-auto">
      <div class="text-center mb-16">
       <h2 class="font-orbitron text-3xl md:text-4xl font-bold mb-4 neon-text">Choose Your Plan</h2>
       <p class="text-gray-400">Select the plan that fits your earning goals</p>
       <div class="rotating-progress mx-auto mt-6"></div>
      </div>
      <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto"><!-- Free Plan -->
       <div class="glow-card rounded-3xl p-8 relative overflow-hidden">
        <div class="absolute top-0 right-0 w-32 h-32 bg-neon-blue/10 rounded-full blur-3xl"></div>
        <div class="relative">
         <h3 class="font-orbitron text-2xl font-bold mb-2">Free Plan</h3>
         <p class="text-4xl font-bold text-neon-blue mb-6">$0 <span class="text-lg text-gray-400">/forever</span></p>
         <ul class="space-y-4 mb-8">
          <li class="flex items-center gap-3"><span class="text-neon-green">âœ“</span> <span>Access to basic AI microtasks</span></li>
          <li class="flex items-center gap-3"><span class="text-neon-green">âœ“</span> <span>Earn $0.01 â€“ $1.00 per task</span></li>
          <li class="flex items-center gap-3"><span class="text-neon-green">âœ“</span> <span>Limited daily tasks (10/day)</span></li>
          <li class="flex items-center gap-3"><span class="text-neon-green">âœ“</span> <span>Min. withdrawal: $20 (KSh 2,580)</span></li>
          <li class="flex items-center gap-3"><span class="text-neon-green">âœ“</span> <span>Withdrawal after 25 days</span></li>
          <li class="flex items-center gap-3"><span class="text-neon-green">âœ“</span> <span>Bank &amp; PayPal withdrawal</span></li>
          <li class="flex items-center gap-3 text-gray-500"><span class="text-red-400">âœ—</span> <span>No mobile money support</span></li>
         </ul><button onclick="showModal('register')" class="w-full py-4 rounded-xl border-2 border-neon-blue hover:bg-neon-blue/20 transition font-bold"> Get Started Free </button>
        </div>
       </div><!-- Premium Plan -->
       <div class="glow-card rounded-3xl p-8 relative overflow-hidden border-2 border-neon-purple">
        <div class="absolute top-0 right-0 w-32 h-32 bg-neon-purple/20 rounded-full blur-3xl"></div>
        <div class="absolute top-4 right-4 px-3 py-1 rounded-full premium-badge text-black text-sm font-bold">
         POPULAR â­
        </div>
        <div class="relative">
         <h3 class="font-orbitron text-2xl font-bold mb-2">Premium Plan</h3>
         <p class="text-4xl font-bold text-neon-purple mb-6">$3 <span class="text-lg text-gray-400">/one-time</span></p>
         <ul class="space-y-4 mb-8">
          <li class="flex items-center gap-3"><span class="text-neon-green">âœ“</span> <span>Access to ALL high-paying tasks</span></li>
          <li class="flex items-center gap-3"><span class="text-neon-green">âœ“</span> <span class="text-neon-green font-bold">Earn $0.50 â€“ $4.00 per task</span></li>
          <li class="flex items-center gap-3"><span class="text-neon-green">âœ“</span> <span>Unlimited daily tasks</span></li>
          <li class="flex items-center gap-3"><span class="text-neon-green">âœ“</span> <span>Priority task access</span></li>
          <li class="flex items-center gap-3"><span class="text-neon-green">âœ“</span> <span>Weekly withdrawals (4x/month)</span></li>
          <li class="flex items-center gap-3"><span class="text-neon-green">âœ“</span> <span>Lower min. withdrawal: $10</span></li>
          <li class="flex items-center gap-3"><span class="text-neon-green">âœ“</span> <span>Bank &amp; PayPal withdrawal</span></li>
         </ul><button onclick="handleUpgrade()" class="w-full py-4 rounded-xl btn-neon font-bold"> Upgrade Now for $3 ğŸš€ </button>
        </div>
       </div>
      </div><!-- Comparison Table -->
      <div class="mt-16 glow-card rounded-2xl overflow-hidden">
       <div class="p-6 bg-gradient-to-r from-neon-blue/10 to-neon-purple/10">
        <h3 class="font-orbitron text-xl font-bold text-center">Feature Comparison</h3>
       </div>
       <div class="overflow-x-auto">
        <table class="w-full">
         <thead>
          <tr class="border-b border-neon-blue/20">
           <th class="text-left p-4">Feature</th>
           <th class="text-center p-4">Free</th>
           <th class="text-center p-4">Premium</th>
          </tr>
         </thead>
         <tbody>
          <tr class="border-b border-neon-blue/10 bg-dark-surface/30">
           <td class="p-4">Earnings per task</td>
           <td class="text-center p-4">$0.01 - $1</td>
           <td class="text-center p-4 text-neon-green font-bold">$0.50 - $4</td>
          </tr>
          <tr class="border-b border-neon-blue/10">
           <td class="p-4">Daily task limit</td>
           <td class="text-center p-4">10 tasks</td>
           <td class="text-center p-4 text-neon-green font-bold">Unlimited</td>
          </tr>
          <tr class="border-b border-neon-blue/10 bg-dark-surface/30">
           <td class="p-4">Minimum withdrawal</td>
           <td class="text-center p-4">$20</td>
           <td class="text-center p-4 text-neon-green font-bold">$10</td>
          </tr>
          <tr class="border-b border-neon-blue/10">
           <td class="p-4">Withdrawal frequency</td>
           <td class="text-center p-4">After 25 days</td>
           <td class="text-center p-4 text-neon-green font-bold">Weekly (4x/month)</td>
          </tr>
          <tr class="border-b border-neon-blue/10 bg-dark-surface/30">
           <td class="p-4">Premium tasks</td>
           <td class="text-center p-4">ğŸ”’ Locked</td>
           <td class="text-center p-4 text-neon-green">âœ“ Full Access</td>
          </tr>
          <tr>
           <td class="p-4">Priority support</td>
           <td class="text-center p-4">âŒ</td>
           <td class="text-center p-4 text-neon-green">âœ“</td>
          </tr>
         </tbody>
        </table>
       </div>
      </div>
     </div>
    </section>
   </div><!-- Dashboard Page -->
   <div id="dashboardPage" class="page hidden">
    <section class="py-8 px-4">
     <div class="max-w-6xl mx-auto"><!-- Dashboard Header -->
      <div class="flex items-center justify-between mb-8">
       <div>
        <h1 class="font-orbitron text-2xl md:text-3xl font-bold neon-text">Dashboard</h1>
        <p class="text-gray-400">Welcome back, <span id="dashboardUsername" class="text-neon-blue"></span></p>
       </div><button onclick="toggleMenu()" class="md:hidden p-2 rounded-lg glow-card">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg></button>
      </div><!-- Wallet Card -->
      <div class="glow-card rounded-3xl p-6 md:p-8 mb-8 relative overflow-hidden">
       <div class="absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-neon-blue/20 to-neon-purple/20 rounded-full blur-3xl"></div>
       <div class="relative">
        <div class="flex items-center justify-between mb-6">
         <div>
          <p class="text-gray-400 text-sm mb-1">Total Balance</p>
          <p id="walletBalance" class="font-orbitron text-3xl md:text-4xl font-bold text-neon-green">$0.00</p>
          <p id="walletBalanceKsh" class="text-gray-400 text-sm mt-1">KSh 0.00</p>
         </div>
         <div class="rotating-progress"></div>
        </div>
        <div class="flex items-center gap-3 mb-6"><button onclick="toggleCurrency()" class="px-4 py-2 rounded-xl bg-neon-blue/20 border border-neon-blue/30 text-sm hover:bg-neon-blue/30 transition"> <span id="currencyToggle">USD ğŸ’µ</span> </button> <span class="text-gray-500 text-sm">1 USD = KSh 129</span>
        </div>
        <div class="flex flex-col sm:flex-row gap-4"><button onclick="showModal('addFunds')" class="flex-1 py-3 rounded-xl bg-gradient-to-r from-neon-green/20 to-neon-blue/20 border border-neon-green/30 font-semibold hover:from-neon-green/30 hover:to-neon-blue/30 transition"> â• Add Funds </button> <button onclick="showModal('withdraw')" class="flex-1 py-3 rounded-xl bg-gradient-to-r from-neon-purple/20 to-neon-pink/20 border border-neon-purple/30 font-semibold hover:from-neon-purple/30 hover:to-neon-pink/30 transition"> ğŸ’³ Withdraw </button>
        </div>
       </div>
      </div><!-- Stats Grid -->
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
       <div class="glow-card rounded-2xl p-4 text-center">
        <p class="text-2xl font-bold text-neon-blue" id="tasksCompleted">0</p>
        <p class="text-gray-400 text-sm">Tasks Done</p>
       </div>
       <div class="glow-card rounded-2xl p-4 text-center bg-gradient-to-br from-neon-green/10 to-transparent">
        <p class="text-2xl font-bold text-neon-green" id="totalEarned">$0.00</p>
        <p class="text-gray-400 text-sm">Total Earned</p>
       </div>
       <div class="glow-card rounded-2xl p-4 text-center">
        <p class="text-2xl font-bold text-neon-purple" id="pendingTasks">100+</p>
        <p class="text-gray-400 text-sm">Available Tasks</p>
       </div>
       <div class="glow-card rounded-2xl p-4 text-center bg-gradient-to-br from-neon-pink/10 to-transparent">
        <p class="text-2xl font-bold text-neon-pink" id="userPlanDisplay">Free</p>
        <p class="text-gray-400 text-sm">Your Plan</p>
       </div>
      </div><!-- Recent Activity -->
      <div class="glow-card rounded-2xl mb-8">
       <div class="p-4 border-b border-neon-blue/20 flex items-center justify-between">
        <h3 class="font-orbitron font-bold">Recent Activity</h3>
        <div class="rotating-progress w-6 h-6 border-2"></div>
       </div>
       <div id="recentActivity" class="p-4 space-y-3 max-h-64 overflow-y-auto">
        <p class="text-gray-500 text-center py-4">No recent activity</p>
       </div>
      </div><!-- Quick Task Categories -->
      <div class="mb-8">
       <h3 class="font-orbitron font-bold mb-4">Quick Access - Task Categories</h3>
       <div class="grid grid-cols-2 md:grid-cols-5 gap-4"><button onclick="showTaskCategory('chat')" class="glow-card rounded-xl p-4 text-center hover:scale-105 transition"> <span class="text-2xl block mb-2">ğŸ’¬</span> <span class="text-sm">AI Chat</span> </button> <button onclick="showTaskCategory('rewrite')" class="glow-card rounded-xl p-4 text-center hover:scale-105 transition bg-gradient-to-br from-neon-purple/10 to-transparent"> <span class="text-2xl block mb-2">âœï¸</span> <span class="text-sm">Rewrite</span> </button> <button onclick="showTaskCategory('translate')" class="glow-card rounded-xl p-4 text-center hover:scale-105 transition"> <span class="text-2xl block mb-2">ğŸŒ</span> <span class="text-sm">Translation</span> </button> <button onclick="showTaskCategory('prompt')" class="glow-card rounded-xl p-4 text-center hover:scale-105 transition bg-gradient-to-br from-neon-green/10 to-transparent"> <span class="text-2xl block mb-2">ğŸ¯</span> <span class="text-sm">Prompts</span> </button> <button onclick="showTaskCategory('teach')" class="glow-card rounded-xl p-4 text-center hover:scale-105 transition"> <span class="text-2xl block mb-2">ğŸ§ </span> <span class="text-sm">AI Teach</span> </button>
       </div>
      </div>
     </div>
    </section>
   </div><!-- Tasks Page -->
   <div id="tasksPage" class="page hidden">
    <section class="py-8 px-4">
     <div class="max-w-6xl mx-auto">
      <div class="flex items-center justify-between mb-8">
       <div>
        <h1 class="font-orbitron text-2xl md:text-3xl font-bold neon-text">AI Tasks</h1>
        <p class="text-gray-400">Complete tasks and earn money</p>
       </div>
       <div class="rotating-progress"></div>
      </div><!-- Task Category Filter -->
      <div class="flex flex-wrap gap-2 mb-6"><button onclick="filterTasks('all')" class="task-filter-btn active px-4 py-2 rounded-xl bg-neon-blue/20 border border-neon-blue/30 text-sm" data-filter="all"> All Tasks </button> <button onclick="filterTasks('chat')" class="task-filter-btn px-4 py-2 rounded-xl bg-dark-surface border border-neon-blue/20 text-sm" data-filter="chat"> ğŸ’¬ AI Chat </button> <button onclick="filterTasks('rewrite')" class="task-filter-btn px-4 py-2 rounded-xl bg-dark-surface border border-neon-blue/20 text-sm" data-filter="rewrite"> âœï¸ Rewrite </button> <button onclick="filterTasks('translate')" class="task-filter-btn px-4 py-2 rounded-xl bg-dark-surface border border-neon-blue/20 text-sm" data-filter="translate"> ğŸŒ Translation </button> <button onclick="filterTasks('prompt')" class="task-filter-btn px-4 py-2 rounded-xl bg-dark-surface border border-neon-blue/20 text-sm" data-filter="prompt"> ğŸ¯ Prompts </button> <button onclick="filterTasks('teach')" class="task-filter-btn px-4 py-2 rounded-xl bg-dark-surface border border-neon-blue/20 text-sm" data-filter="teach"> ğŸ§  AI Teach </button>
      </div><!-- Tasks List -->
      <div id="tasksList" class="space-y-4"><!-- Tasks will be dynamically rendered -->
      </div>
     </div>
    </section>
   </div><!-- Wallet Page -->
   <div id="walletPage" class="page hidden">
    <section class="py-8 px-4">
     <div class="max-w-4xl mx-auto">
      <div class="flex items-center justify-between mb-8">
       <h1 class="font-orbitron text-2xl md:text-3xl font-bold neon-text">Wallet</h1>
       <div class="rotating-progress"></div>
      </div><!-- Large Balance Card -->
      <div class="glow-card rounded-3xl p-8 mb-8 text-center relative overflow-hidden">
       <div class="absolute inset-0 bg-gradient-to-br from-neon-green/10 via-transparent to-neon-blue/10"></div>
       <div class="relative">
        <p class="text-gray-400 mb-2">Available Balance</p>
        <p id="walletBalanceLarge" class="font-orbitron text-5xl md:text-6xl font-bold text-neon-green mb-2">$0.00</p>
        <p id="walletBalanceKshLarge" class="text-xl text-gray-400">KSh 0.00</p>
        <div class="flex flex-col sm:flex-row gap-4 mt-8 max-w-md mx-auto"><button onclick="showModal('addFunds')" class="flex-1 py-4 rounded-xl btn-neon font-bold"> â• Add Funds </button> <button onclick="showModal('withdraw')" class="flex-1 py-4 rounded-xl border-2 border-neon-purple hover:bg-neon-purple/20 transition font-bold"> ğŸ’³ Withdraw </button>
        </div>
       </div>
      </div><!-- Withdrawal Info -->
      <div id="withdrawalInfo" class="glow-card rounded-2xl p-6 mb-8">
       <h3 class="font-orbitron font-bold mb-4">Withdrawal Information</h3>
       <div class="space-y-3 text-sm">
        <div class="flex justify-between"><span class="text-gray-400">Minimum withdrawal:</span> <span id="minWithdrawal" class="font-bold">$20.00</span>
        </div>
        <div class="flex justify-between"><span class="text-gray-400">Available methods:</span> <span class="font-bold">Bank, PayPal</span>
        </div>
        <div class="flex justify-between"><span class="text-gray-400">Next withdrawal:</span> <span id="nextWithdrawal" class="font-bold text-neon-blue">After 25 days</span>
        </div>
       </div>
      </div><!-- Transaction History -->
      <div class="glow-card rounded-2xl">
       <div class="p-4 border-b border-neon-blue/20">
        <h3 class="font-orbitron font-bold">Transaction History</h3>
       </div>
       <div id="transactionHistory" class="p-4 space-y-3 max-h-96 overflow-y-auto">
        <p class="text-gray-500 text-center py-8">No transactions yet</p>
       </div>
      </div>
     </div>
    </section>
   </div><!-- Earnings Page -->
   <div id="earningsPage" class="page hidden">
    <section class="py-8 px-4">
     <div class="max-w-4xl mx-auto">
      <div class="flex items-center justify-between mb-8">
       <h1 class="font-orbitron text-2xl md:text-3xl font-bold neon-text">Earnings History</h1>
       <div class="rotating-progress"></div>
      </div><!-- Earnings Summary -->
      <div class="grid grid-cols-2 md:grid-cols-3 gap-4 mb-8">
       <div class="glow-card rounded-2xl p-6 text-center">
        <p class="text-gray-400 text-sm mb-2">Today</p>
        <p id="earningsToday" class="font-orbitron text-2xl font-bold text-neon-green">$0.00</p>
       </div>
       <div class="glow-card rounded-2xl p-6 text-center bg-gradient-to-br from-neon-blue/10 to-transparent">
        <p class="text-gray-400 text-sm mb-2">This Week</p>
        <p id="earningsWeek" class="font-orbitron text-2xl font-bold text-neon-blue">$0.00</p>
       </div>
       <div class="glow-card rounded-2xl p-6 text-center col-span-2 md:col-span-1">
        <p class="text-gray-400 text-sm mb-2">All Time</p>
        <p id="earningsAllTime" class="font-orbitron text-2xl font-bold text-neon-purple">$0.00</p>
       </div>
      </div><!-- Earnings List -->
      <div class="glow-card rounded-2xl">
       <div class="p-4 border-b border-neon-blue/20">
        <h3 class="font-orbitron font-bold">Detailed Earnings</h3>
       </div>
       <div id="earningsList" class="p-4 space-y-3 max-h-96 overflow-y-auto">
        <p class="text-gray-500 text-center py-8">Complete tasks to see your earnings</p>
       </div>
      </div>
     </div>
    </section>
   </div><!-- Flag Stripe Bottom -->
   <div class="flag-stripe mt-8"></div><!-- Footer -->
   <footer class="py-8 px-4 text-center text-gray-500 text-sm">
    <p>Â© 2024 AI Runner. All rights reserved.</p>
    <p class="mt-2">Empowering AI training through human intelligence.</p>
   </footer>
  </div><!-- Modals Container -->
  <div id="modalsContainer"><!-- Register Modal -->
   <div id="registerModal" class="fixed inset-0 z-50 hidden modal-overlay flex items-center justify-center p-4">
    <div class="glow-card rounded-3xl p-6 md:p-8 w-full max-w-md max-h-[90%] overflow-y-auto relative"><button onclick="closeModal('register')" class="absolute top-4 right-4 w-8 h-8 rounded-full bg-dark-surface flex items-center justify-center hover:bg-red-500/20 transition">âœ•</button>
     <div class="text-center mb-6"><span class="text-4xl">ğŸš€</span>
      <h2 class="font-orbitron text-2xl font-bold mt-4 neon-text">Join AI Runner</h2>
      <p class="text-gray-400 text-sm mt-2">Create your free account</p>
     </div>
     <form id="registerForm" onsubmit="handleRegister(event)" class="space-y-4">
      <div><label for="regName" class="block text-sm text-gray-400 mb-1">Full Name</label> <input type="text" id="regName" required class="w-full px-4 py-3 rounded-xl bg-dark-surface border border-neon-blue/30 focus:border-neon-blue focus:outline-none" placeholder="John Doe">
      </div>
      <div><label for="regEmail" class="block text-sm text-gray-400 mb-1">Email Address</label> <input type="email" id="regEmail" required class="w-full px-4 py-3 rounded-xl bg-dark-surface border border-neon-blue/30 focus:border-neon-blue focus:outline-none" placeholder="john@example.com">
      </div>
      <div><label for="regPhone" class="block text-sm text-gray-400 mb-1">Phone Number</label> <input type="tel" id="regPhone" required class="w-full px-4 py-3 rounded-xl bg-dark-surface border border-neon-blue/30 focus:border-neon-blue focus:outline-none" placeholder="+254 700 000 000">
      </div>
      <div><label for="regPassword" class="block text-sm text-gray-400 mb-1">Password</label> <input type="password" id="regPassword" required minlength="6" class="w-full px-4 py-3 rounded-xl bg-dark-surface border border-neon-blue/30 focus:border-neon-blue focus:outline-none" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
      </div><button type="submit" class="w-full py-4 rounded-xl btn-neon font-bold"> Create Account ğŸ‰ </button>
     </form>
     <p class="text-center text-sm text-gray-400 mt-4">Already have an account? <button onclick="switchModal('register', 'login')" class="text-neon-blue hover:underline">Login</button></p>
    </div>
   </div><!-- Login Modal -->
   <div id="loginModal" class="fixed inset-0 z-50 hidden modal-overlay flex items-center justify-center p-4">
    <div class="glow-card rounded-3xl p-6 md:p-8 w-full max-w-md relative bg-gradient-to-br from-dark-card to-dark-surface"><button onclick="closeModal('login')" class="absolute top-4 right-4 w-8 h-8 rounded-full bg-dark-surface flex items-center justify-center hover:bg-red-500/20 transition">âœ•</button>
     <div class="text-center mb-6"><span class="text-4xl">ğŸ‘‹</span>
      <h2 class="font-orbitron text-2xl font-bold mt-4 neon-text">Welcome Back</h2>
      <p class="text-gray-400 text-sm mt-2">Login to your account</p>
     </div>
     <form id="loginForm" onsubmit="handleLogin(event)" class="space-y-4">
      <div><label for="loginEmail" class="block text-sm text-gray-400 mb-1">Email Address</label> <input type="email" id="loginEmail" required class="w-full px-4 py-3 rounded-xl bg-dark-surface border border-neon-blue/30 focus:border-neon-blue focus:outline-none" placeholder="john@example.com">
      </div>
      <div><label for="loginPassword" class="block text-sm text-gray-400 mb-1">Password</label> <input type="password" id="loginPassword" required class="w-full px-4 py-3 rounded-xl bg-dark-surface border border-neon-blue/30 focus:border-neon-blue focus:outline-none" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
      </div><button type="submit" class="w-full py-4 rounded-xl btn-neon font-bold"> Login ğŸ” </button>
     </form>
     <p class="text-center text-sm text-gray-400 mt-4">Don't have an account? <button onclick="switchModal('login', 'register')" class="text-neon-blue hover:underline">Register</button></p>
    </div>
   </div><!-- Upgrade Modal -->
   <div id="upgradeModal" class="fixed inset-0 z-50 hidden modal-overlay flex items-center justify-center p-4">
    <div class="glow-card rounded-3xl p-6 md:p-8 w-full max-w-md relative bg-gradient-to-br from-neon-purple/10 to-dark-card"><button onclick="closeModal('upgrade')" class="absolute top-4 right-4 w-8 h-8 rounded-full bg-dark-surface flex items-center justify-center hover:bg-red-500/20 transition">âœ•</button>
     <div class="text-center mb-6"><span class="text-4xl">â­</span>
      <h2 class="font-orbitron text-2xl font-bold mt-4 neon-text">Upgrade to Premium</h2>
      <p class="text-gray-400 text-sm mt-2">Unlock high-paying tasks</p>
     </div>
     <div class="space-y-4 mb-6">
      <div class="flex items-center gap-3 p-3 rounded-xl bg-neon-green/10"><span class="text-neon-green">âœ“</span> <span>Earn up to $4 per task</span>
      </div>
      <div class="flex items-center gap-3 p-3 rounded-xl bg-neon-blue/10"><span class="text-neon-blue">âœ“</span> <span>Unlimited daily tasks</span>
      </div>
      <div class="flex items-center gap-3 p-3 rounded-xl bg-neon-purple/10"><span class="text-neon-purple">âœ“</span> <span>Weekly withdrawals</span>
      </div>
     </div>
     <div class="text-center mb-6">
      <p class="text-3xl font-orbitron font-bold text-neon-green">$3.00</p>
      <p class="text-gray-400 text-sm">One-time payment</p>
     </div><button onclick="handleUpgrade()" class="w-full py-4 rounded-xl btn-neon font-bold"> Pay $3 &amp; Upgrade ğŸš€ </button>
    </div>
   </div><!-- Withdraw Modal -->
   <div id="withdrawModal" class="fixed inset-0 z-50 hidden modal-overlay flex items-center justify-center p-4">
    <div class="glow-card rounded-3xl p-6 md:p-8 w-full max-w-md max-h-[90%] overflow-y-auto relative bg-gradient-to-br from-neon-pink/10 to-dark-card"><button onclick="closeModal('withdraw')" class="absolute top-4 right-4 w-8 h-8 rounded-full bg-dark-surface flex items-center justify-center hover:bg-red-500/20 transition">âœ•</button>
     <div class="text-center mb-6"><span class="text-4xl">ğŸ’³</span>
      <h2 class="font-orbitron text-2xl font-bold mt-4 neon-text">Withdraw Funds</h2>
      <p class="text-gray-400 text-sm mt-2">Transfer to your account</p>
     </div>
     <form id="withdrawForm" onsubmit="handleWithdraw(event)" class="space-y-4">
      <div><label for="withdrawAmount" class="block text-sm text-gray-400 mb-1">Amount (USD)</label> <input type="number" id="withdrawAmount" required min="10" step="0.01" class="w-full px-4 py-3 rounded-xl bg-dark-surface border border-neon-blue/30 focus:border-neon-blue focus:outline-none" placeholder="20.00">
      </div>
      <div><label for="withdrawMethod" class="block text-sm text-gray-400 mb-1">Withdrawal Method</label> <select id="withdrawMethod" required class="w-full px-4 py-3 rounded-xl bg-dark-surface border border-neon-blue/30 focus:border-neon-blue focus:outline-none"> <option value="">Select method</option> <option value="bank">Bank Transfer</option> <option value="paypal">PayPal</option> </select>
      </div>
      <div id="bankDetails" class="hidden space-y-4">
       <div><label for="bankName" class="block text-sm text-gray-400 mb-1">Bank Name</label> <input type="text" id="bankName" class="w-full px-4 py-3 rounded-xl bg-dark-surface border border-neon-blue/30 focus:border-neon-blue focus:outline-none" placeholder="Bank name">
       </div>
       <div><label for="accountNumber" class="block text-sm text-gray-400 mb-1">Account Number</label> <input type="text" id="accountNumber" class="w-full px-4 py-3 rounded-xl bg-dark-surface border border-neon-blue/30 focus:border-neon-blue focus:outline-none" placeholder="Account number">
       </div>
      </div>
      <div id="paypalDetails" class="hidden"><label for="paypalEmail" class="block text-sm text-gray-400 mb-1">PayPal Email</label> <input type="email" id="paypalEmail" class="w-full px-4 py-3 rounded-xl bg-dark-surface border border-neon-blue/30 focus:border-neon-blue focus:outline-none" placeholder="paypal@example.com">
      </div>
      <div id="withdrawError" class="hidden p-3 rounded-xl bg-red-500/20 text-red-400 text-sm"></div><button type="submit" class="w-full py-4 rounded-xl btn-neon font-bold"> Request Withdrawal ğŸ’¸ </button>
     </form>
    </div>
   </div><!-- Add Funds Modal -->
   <div id="addFundsModal" class="fixed inset-0 z-50 hidden modal-overlay flex items-center justify-center p-4">
    <div class="glow-card rounded-3xl p-6 md:p-8 w-full max-w-md relative bg-gradient-to-br from-neon-green/10 to-dark-card"><button onclick="closeModal('addFunds')" class="absolute top-4 right-4 w-8 h-8 rounded-full bg-dark-surface flex items-center justify-center hover:bg-red-500/20 transition">âœ•</button>
     <div class="text-center mb-6"><span class="text-4xl">â•</span>
      <h2 class="font-orbitron text-2xl font-bold mt-4 neon-text">Add Funds</h2>
      <p class="text-gray-400 text-sm mt-2">Top up your account</p>
     </div>
     <p class="text-center text-gray-400 mb-6">Funds are added automatically when you complete tasks. Keep completing AI tasks to increase your balance!</p><button onclick="showPage('tasks'); closeModal('addFunds');" class="w-full py-4 rounded-xl btn-neon font-bold"> Browse Tasks ğŸ¯ </button>
    </div>
   </div><!-- Support Modal -->
   <div id="supportModal" class="fixed inset-0 z-50 hidden modal-overlay flex items-center justify-center p-4">
    <div class="glow-card rounded-3xl p-6 md:p-8 w-full max-w-md max-h-[90%] overflow-y-auto relative bg-gradient-to-br from-neon-blue/10 to-dark-card"><button onclick="closeModal('support')" class="absolute top-4 right-4 w-8 h-8 rounded-full bg-dark-surface flex items-center justify-center hover:bg-red-500/20 transition">âœ•</button>
     <div class="text-center mb-6"><span class="text-4xl">ğŸ§</span>
      <h2 class="font-orbitron text-2xl font-bold mt-4 neon-text">Support</h2>
      <p class="text-gray-400 text-sm mt-2">We're here to help</p>
     </div>
     <form id="supportForm" onsubmit="handleSupport(event)" class="space-y-4">
      <div><label for="supportSubject" class="block text-sm text-gray-400 mb-1">Subject</label> <select id="supportSubject" required class="w-full px-4 py-3 rounded-xl bg-dark-surface border border-neon-blue/30 focus:border-neon-blue focus:outline-none"> <option value="">Select subject</option> <option value="withdrawal">Withdrawal Issue</option> <option value="task">Task Problem</option> <option value="account">Account Issue</option> <option value="payment">Payment Question</option> <option value="other">Other</option> </select>
      </div>
      <div><label for="supportMessage" class="block text-sm text-gray-400 mb-1">Message</label> <textarea id="supportMessage" required rows="4" class="w-full px-4 py-3 rounded-xl bg-dark-surface border border-neon-blue/30 focus:border-neon-blue focus:outline-none resize-none" placeholder="Describe your issue..."></textarea>
      </div><button type="submit" class="w-full py-4 rounded-xl btn-neon font-bold"> Submit Ticket ğŸ“¨ </button>
     </form>
    </div>
   </div><!-- Task Modal -->
   <div id="taskModal" class="fixed inset-0 z-50 hidden modal-overlay flex items-center justify-center p-4">
    <div class="glow-card rounded-3xl p-6 md:p-8 w-full max-w-2xl max-h-[90%] overflow-y-auto relative"><button onclick="closeModal('task')" class="absolute top-4 right-4 w-8 h-8 rounded-full bg-dark-surface flex items-center justify-center hover:bg-red-500/20 transition">âœ•</button>
     <div id="taskModalContent"><!-- Task content will be dynamically inserted -->
     </div>
    </div>
   </div><!-- External Link Modal -->
   <div id="externalLinkModal" class="fixed inset-0 z-50 hidden modal-overlay flex items-center justify-center p-4">
    <div class="glow-card rounded-3xl p-6 md:p-8 w-full max-w-md relative text-center"><button onclick="closeModal('externalLink')" class="absolute top-4 right-4 w-8 h-8 rounded-full bg-dark-surface flex items-center justify-center hover:bg-red-500/20 transition">âœ•</button> <span class="text-4xl">ğŸ”—</span>
     <h2 class="font-orbitron text-xl font-bold mt-4 neon-text">External Site</h2>
     <p class="text-gray-400 mt-2 mb-6" id="externalLinkMessage">You are about to visit an external website.</p>
     <div class="flex gap-4"><button onclick="closeModal('externalLink')" class="flex-1 py-3 rounded-xl border border-neon-blue/30 hover:bg-neon-blue/20 transition"> Cancel </button> <a id="externalLinkBtn" href="#" target="_blank" rel="noopener noreferrer" class="flex-1 py-3 rounded-xl btn-neon font-bold text-center"> Continue </a>
     </div>
    </div>
   </div><!-- Success Toast -->
   <div id="toast" class="fixed bottom-4 right-4 z-50 hidden transform transition-transform duration-300 translate-y-full">
    <div class="glow-card rounded-xl p-4 flex items-center gap-3"><span id="toastIcon" class="text-2xl">âœ…</span>
     <p id="toastMessage" class="font-medium"></p>
    </div>
   </div>
  </div>
  <script>
    // App State
    let state = {
      user: null,
      balance: 0,
      tasksCompleted: 0,
      totalEarned: 0,
      earnings: [],
      transactions: [],
      currentPage: 'landing',
      showCurrencyKsh: false,
      currentTaskCategory: 'all'
    };
    
    // Tasks Data - 100+ tasks across 5 categories
    const tasksData = {
      chat: [
        { id: 'chat1', title: 'Teach AI to say "Good morning"', desc: 'Train AI to greet naturally. Teach it to say "Good morning" in 5 different human-like ways with appropriate context and tone.', payment: 0.05, time: '2 min', premium: false, minWords: 20, maxWords: 100, keywords: ['greeting', 'natural', 'friendly'] },
        { id: 'chat2', title: 'Express gratitude naturally', desc: 'Help AI learn to say "Thank you" like a human. Provide 5 variations with different levels of formality.', payment: 0.08, time: '3 min', premium: false, minWords: 25, maxWords: 120, keywords: ['gratitude', 'polite', 'sincere'] },
        { id: 'chat3', title: 'Apologize authentically', desc: 'Train AI to apologize sincerely. Create 5 apology variations for minor mistakes with appropriate emotional tone.', payment: 0.10, time: '4 min', premium: false, minWords: 30, maxWords: 150, keywords: ['apology', 'sincere', 'empathy'] },
        { id: 'chat4', title: 'Express excitement naturally', desc: 'Help AI express joy and excitement like a human. Provide 5 different ways to express happiness about news.', payment: 0.12, time: '4 min', premium: false, minWords: 30, maxWords: 140, keywords: ['excitement', 'joy', 'enthusiasm'] },
        { id: 'chat5', title: 'Decline politely', desc: 'Teach AI to say "No" politely. Create 5 ways to decline invitations or requests while maintaining respect.', payment: 0.15, time: '5 min', premium: false, minWords: 35, maxWords: 160, keywords: ['polite', 'decline', 'respectful'] },
        { id: 'chat6', title: 'Offer condolences', desc: 'Train AI to express sympathy. Create 5 appropriate responses to sad news with genuine empathy.', payment: 0.50, time: '5 min', premium: true, minWords: 40, maxWords: 180, keywords: ['sympathy', 'empathy', 'comfort'] },
        { id: 'chat7', title: 'Celebrate achievements', desc: 'Help AI congratulate others naturally. Provide 5 ways to celebrate someone\'s success.', payment: 0.60, time: '5 min', premium: true, minWords: 35, maxWords: 150, keywords: ['congratulations', 'celebration', 'pride'] },
        { id: 'chat8', title: 'Ask for help humbly', desc: 'Train AI to request assistance politely. Create 5 ways to ask for help without imposing.', payment: 0.70, time: '6 min', premium: true, minWords: 40, maxWords: 170, keywords: ['request', 'humble', 'assistance'] },
        { id: 'chat9', title: 'Express disappointment', desc: 'Teach AI to express disappointment appropriately. Provide 5 ways to show disappointment without negativity.', payment: 0.80, time: '6 min', premium: true, minWords: 45, maxWords: 180, keywords: ['disappointment', 'mature', 'constructive'] },
        { id: 'chat10', title: 'Give encouragement', desc: 'Help AI motivate others. Create 5 encouraging messages for someone facing challenges.', payment: 0.55, time: '5 min', premium: true, minWords: 40, maxWords: 160, keywords: ['encouragement', 'motivation', 'support'] },
        { id: 'chat11', title: 'Welcome newcomers', desc: 'Train AI to welcome new team members. Provide 5 warm welcome messages with helpful information.', payment: 0.08, time: '3 min', premium: false, minWords: 30, maxWords: 130, keywords: ['welcome', 'warm', 'helpful'] },
        { id: 'chat12', title: 'Express uncertainty', desc: 'Teach AI to admit not knowing something. Create 5 ways to say "I don\'t know" professionally.', payment: 0.10, time: '4 min', premium: false, minWords: 25, maxWords: 110, keywords: ['uncertainty', 'honest', 'professional'] },
        { id: 'chat13', title: 'Show appreciation for feedback', desc: 'Help AI respond to criticism constructively. Provide 5 responses to negative feedback with grace.', payment: 0.90, time: '7 min', premium: true, minWords: 50, maxWords: 200, keywords: ['appreciation', 'feedback', 'growth'] },
        { id: 'chat14', title: 'Express concern', desc: 'Train AI to show worry about someone. Create 5 caring messages checking on someone\'s wellbeing.', payment: 0.65, time: '5 min', premium: true, minWords: 35, maxWords: 150, keywords: ['concern', 'caring', 'wellbeing'] },
        { id: 'chat15', title: 'Introduce yourself', desc: 'Teach AI to introduce itself professionally. Provide 5 self-introductions for different contexts.', payment: 0.12, time: '4 min', premium: false, minWords: 35, maxWords: 160, keywords: ['introduction', 'professional', 'friendly'] },
        { id: 'chat16', title: 'Say goodbye warmly', desc: 'Help AI end conversations gracefully. Create 5 warm goodbye messages with well-wishes.', payment: 0.08, time: '3 min', premium: false, minWords: 20, maxWords: 100, keywords: ['goodbye', 'warm', 'wishes'] },
        { id: 'chat17', title: 'Express agreement', desc: 'Train AI to agree with others naturally. Provide 5 ways to express agreement with enthusiasm.', payment: 0.10, time: '3 min', premium: false, minWords: 25, maxWords: 110, keywords: ['agreement', 'positive', 'supportive'] },
        { id: 'chat18', title: 'Respectfully disagree', desc: 'Teach AI to disagree politely. Create 5 ways to express different opinions while maintaining respect.', payment: 1.00, time: '8 min', premium: true, minWords: 50, maxWords: 220, keywords: ['disagree', 'respectful', 'constructive'] },
        { id: 'chat19', title: 'Express surprise', desc: 'Help AI react to unexpected news. Provide 5 appropriate surprise reactions for different situations.', payment: 0.10, time: '4 min', premium: false, minWords: 25, maxWords: 120, keywords: ['surprise', 'reaction', 'appropriate'] },
        { id: 'chat20', title: 'Show patience', desc: 'Train AI to respond calmly to frustration. Create 5 patient responses to impatient customers.', payment: 0.85, time: '7 min', premium: true, minWords: 45, maxWords: 190, keywords: ['patience', 'calm', 'understanding'] }
      ],
      rewrite: [
        { id: 'rewrite1', title: 'Fix grammar errors', original: 'Their going to the store too buy they\'re favorite foods.', desc: 'Correct all grammatical errors in this sentence. Focus on: their/there/they\'re usage and to/too distinction.', payment: 0.03, time: '1 min', premium: false, keywords: ['grammar', 'spelling', 'correction'] },
        { id: 'rewrite2', title: 'Improve clarity', original: 'The thing that I want to talk about is the fact that people should do more exercise because it is good.', desc: 'Rewrite this wordy sentence to be clear and concise while keeping the same meaning.', payment: 0.05, time: '2 min', premium: false, keywords: ['clarity', 'concise', 'rewrite'] },
        { id: 'rewrite3', title: 'Fix punctuation', original: 'Lets eat grandma said the children.', desc: 'Add correct punctuation to prevent this sentence from having a dangerous meaning.', payment: 0.03, time: '1 min', premium: false, keywords: ['punctuation', 'comma', 'clarity'] },
        { id: 'rewrite4', title: 'Remove redundancy', original: 'In my personal opinion, I think that we should return back to the original source where we began at first.', desc: 'Eliminate all redundant phrases while preserving the core message.', payment: 0.08, time: '3 min', premium: false, keywords: ['redundancy', 'concise', 'editing'] },
        { id: 'rewrite5', title: 'Fix subject-verb agreement', original: 'The group of students was studying hard and each of them were preparing their own notes.', desc: 'Correct the subject-verb agreement errors in this sentence.', payment: 0.05, time: '2 min', premium: false, keywords: ['grammar', 'agreement', 'correction'] },
        { id: 'rewrite6', title: 'Professional tone conversion', original: 'Hey! So like, I was wondering if maybe you could possibly help me with this thing I\'m working on?', desc: 'Rewrite this casual message in a professional business tone suitable for a formal email.', payment: 0.50, time: '4 min', premium: true, keywords: ['professional', 'tone', 'formal'] },
        { id: 'rewrite7', title: 'Fix mixed metaphors', original: 'We need to hit the ground running because the early bird catches the worm when the iron is hot.', desc: 'Rewrite using a single, clear metaphor that conveys urgency and opportunity.', payment: 0.60, time: '5 min', premium: true, keywords: ['metaphor', 'clarity', 'rewrite'] },
        { id: 'rewrite8', title: 'Simplify complex sentence', original: 'Notwithstanding the aforementioned circumstances, the ramifications of the implementation of the proposed policy modifications necessitate comprehensive deliberation.', desc: 'Simplify this sentence for a general audience while keeping the meaning.', payment: 0.70, time: '5 min', premium: true, keywords: ['simplify', 'plain language', 'clarity'] },
        { id: 'rewrite9', title: 'Fix passive voice', original: 'The ball was thrown by the boy and it was caught by his friend who was standing near the tree.', desc: 'Rewrite in active voice to make the sentence more engaging and direct.', payment: 0.08, time: '3 min', premium: false, keywords: ['active voice', 'engaging', 'rewrite'] },
        { id: 'rewrite10', title: 'Correct homophones', original: 'Weather or not you believe it, the principal reason for there concern was the affect on moral.', desc: 'Identify and correct all homophone errors in this sentence.', payment: 0.10, time: '3 min', premium: false, keywords: ['homophones', 'spelling', 'correction'] },
        { id: 'rewrite11', title: 'Make inclusive', original: 'Every businessman should bring his laptop to the conference. The chairman will address all salesmen.', desc: 'Rewrite using gender-neutral language while maintaining professionalism.', payment: 0.65, time: '5 min', premium: true, keywords: ['inclusive', 'gender-neutral', 'professional'] },
        { id: 'rewrite12', title: 'Fix dangling modifier', original: 'Walking through the park, the flowers were beautiful.', desc: 'Rewrite to correctly attach the modifier to the appropriate subject.', payment: 0.05, time: '2 min', premium: false, keywords: ['modifier', 'grammar', 'correction'] },
        { id: 'rewrite13', title: 'Improve sentence variety', original: 'I went to the store. I bought milk. I bought bread. I went home. I made breakfast.', desc: 'Combine these choppy sentences into 2-3 varied, flowing sentences.', payment: 0.08, time: '3 min', premium: false, keywords: ['variety', 'flow', 'combining'] },
        { id: 'rewrite14', title: 'Fix tense consistency', original: 'Yesterday, I go to the market and bought vegetables. Then I am cooking dinner and will eat it.', desc: 'Rewrite with consistent past tense throughout.', payment: 0.05, time: '2 min', premium: false, keywords: ['tense', 'consistency', 'grammar'] },
        { id: 'rewrite15', title: 'Academic to casual', original: 'The empirical evidence substantiates the hypothesis that increased physical activity correlates positively with cognitive function.', desc: 'Rewrite this academic sentence for a casual blog post about exercise and brain health.', payment: 0.75, time: '6 min', premium: true, keywords: ['casual', 'tone', 'simplify'] },
        { id: 'rewrite16', title: 'Fix split infinitive', original: 'We need to carefully and thoroughly review all the documents before the meeting.', desc: 'Rewrite to eliminate the split infinitive while maintaining clarity.', payment: 0.05, time: '2 min', premium: false, keywords: ['infinitive', 'grammar', 'formal'] },
        { id: 'rewrite17', title: 'Remove jargon', original: 'We need to leverage our core competencies to synergize cross-functional teams and optimize deliverables.', desc: 'Translate this corporate jargon into plain, clear language.', payment: 0.55, time: '4 min', premium: true, keywords: ['jargon', 'plain language', 'clarity'] },
        { id: 'rewrite18', title: 'Fix run-on sentence', original: 'I love coffee it gives me energy in the morning I can\'t function without it my favorite is espresso.', desc: 'Break this run-on into properly punctuated separate sentences.', payment: 0.05, time: '2 min', premium: false, keywords: ['run-on', 'punctuation', 'sentences'] },
        { id: 'rewrite19', title: 'Emotional to neutral', original: 'This is absolutely the WORST service I have EVER experienced!!! I am SO ANGRY right now!!!', desc: 'Rewrite this emotional complaint as a calm, constructive feedback message.', payment: 0.80, time: '6 min', premium: true, keywords: ['neutral', 'professional', 'feedback'] },
        { id: 'rewrite20', title: 'Fix misplaced apostrophe', original: 'The companies policy states that employee\'s must submit there report\'s by Friday.', desc: 'Correct all apostrophe and related errors in this sentence.', payment: 0.05, time: '2 min', premium: false, keywords: ['apostrophe', 'possessive', 'grammar'] }
      ],
      translate: [
        { id: 'trans1', title: 'Greetings ENâ†’SW', source: 'Hello, how are you doing today?', desc: 'Translate this greeting from English to Swahili. Maintain the friendly, casual tone.', payment: 0.10, time: '2 min', premium: false, keywords: ['greeting', 'Swahili', 'casual'] },
        { id: 'trans2', title: 'Business intro SWâ†’EN', source: 'Habari, jina langu ni Sarah na ninafanya kazi kama meneja wa masoko.', desc: 'Translate this business introduction from Swahili to English. Keep it professional.', payment: 0.15, time: '3 min', premium: false, keywords: ['business', 'introduction', 'professional'] },
        { id: 'trans3', title: 'Sheng slang ENâ†’Sheng', source: 'That party last night was really amazing and the music was great!', desc: 'Translate this to Sheng (Kenyan street slang). Make it sound natural and youthful.', payment: 0.20, time: '4 min', premium: false, keywords: ['Sheng', 'slang', 'youth'] },
        { id: 'trans4', title: 'Directions ENâ†’SW', source: 'Turn left at the traffic lights, then go straight for 500 meters. The hospital is on your right.', desc: 'Translate these directions to Swahili. Be clear and precise.', payment: 0.12, time: '3 min', premium: false, keywords: ['directions', 'clear', 'precise'] },
        { id: 'trans5', title: 'Menu items SWâ†’EN', source: 'Ugali na nyama choma, sukuma wiki, chapati na maharagwe', desc: 'Translate this menu with brief descriptions of each dish for tourists.', payment: 0.15, time: '3 min', premium: false, keywords: ['food', 'menu', 'description'] },
        { id: 'trans6', title: 'Technical manual ENâ†’SW', source: 'Before operating the machine, ensure all safety guards are in place and the emergency stop button is functioning correctly.', desc: 'Translate this technical safety instruction to Swahili. Accuracy is critical.', payment: 0.80, time: '6 min', premium: true, keywords: ['technical', 'safety', 'accurate'] },
        { id: 'trans7', title: 'Poetry SWâ†’EN', source: 'Mwezi unawaka juu, nyota zikicheza kama watoto wa furaha, usiku unatulia.', desc: 'Translate this Swahili poetry to English while preserving the poetic imagery and rhythm.', payment: 1.00, time: '8 min', premium: true, keywords: ['poetry', 'imagery', 'creative'] },
        { id: 'trans8', title: 'Legal disclaimer ENâ†’SW', source: 'By using this service, you agree to our terms and conditions. We are not liable for any damages arising from misuse.', desc: 'Translate this legal text to Swahili. Maintain the formal, legal tone.', payment: 0.90, time: '7 min', premium: true, keywords: ['legal', 'formal', 'accurate'] },
        { id: 'trans9', title: 'Proverb translation', source: 'A stitch in time saves nine.', desc: 'Find the equivalent Swahili proverb or translate with cultural adaptation.', payment: 0.25, time: '5 min', premium: false, keywords: ['proverb', 'cultural', 'wisdom'] },
        { id: 'trans10', title: 'Medical instructions ENâ†’SW', source: 'Take two tablets twice daily after meals. Do not exceed the recommended dose. Consult a doctor if symptoms persist.', desc: 'Translate these medical instructions accurately to Swahili.', payment: 0.70, time: '5 min', premium: true, keywords: ['medical', 'instructions', 'accurate'] },
        { id: 'trans11', title: 'Casual chat Shengâ†’EN', source: 'Mambo vipi? Niko poa tu. Unaenda wapi saa hii?', desc: 'Translate this casual Sheng conversation to English, capturing the informal tone.', payment: 0.15, time: '3 min', premium: false, keywords: ['casual', 'informal', 'natural'] },
        { id: 'trans12', title: 'News headline SWâ†’EN', source: 'Rais Ametangaza Mpango Mpya wa Kupunguza Bei za Chakula Nchini', desc: 'Translate this news headline to English in proper journalistic style.', payment: 0.20, time: '3 min', premium: false, keywords: ['news', 'headline', 'formal'] },
        { id: 'trans13', title: 'Love letter ENâ†’SW', source: 'My dearest, every moment without you feels incomplete. You are the light of my life.', desc: 'Translate this romantic text to Swahili, preserving the emotional depth.', payment: 0.75, time: '5 min', premium: true, keywords: ['romantic', 'emotional', 'expressive'] },
        { id: 'trans14', title: 'Recipe instructions ENâ†’SW', source: 'Preheat the oven to 180Â°C. Mix flour, sugar, and eggs in a bowl until smooth.', desc: 'Translate these cooking instructions to Swahili clearly.', payment: 0.18, time: '4 min', premium: false, keywords: ['recipe', 'instructions', 'clear'] },
        { id: 'trans15', title: 'Emergency message SWâ†’EN', source: 'Tafadhali piga simu polisi haraka! Kuna ajali mbaya hapa na watu wamejeruhiwa.', desc: 'Translate this emergency message accurately and urgently.', payment: 0.30, time: '3 min', premium: false, keywords: ['emergency', 'urgent', 'accurate'] },
        { id: 'trans16', title: 'Marketing copy ENâ†’SW', source: 'Transform your life with our revolutionary fitness program! Join thousands of satisfied customers today!', desc: 'Translate this marketing text to Swahili, keeping it persuasive and exciting.', payment: 0.85, time: '6 min', premium: true, keywords: ['marketing', 'persuasive', 'exciting'] },
        { id: 'trans17', title: 'Children\'s story SWâ†’EN', source: 'Hapo zamani za kale, kulikuwa na sungura mdogo aliyeishi msituni. Sungura alikuwa mwerevu sana.', desc: 'Translate this children\'s story opening to English with a storytelling tone.', payment: 0.25, time: '4 min', premium: false, keywords: ['story', 'children', 'narrative'] },
        { id: 'trans18', title: 'Sports commentary ENâ†’SW', source: 'And he scores! What an incredible goal in the final minutes of the match! The crowd goes wild!', desc: 'Translate this exciting sports commentary to Swahili with energy.', payment: 0.65, time: '5 min', premium: true, keywords: ['sports', 'exciting', 'commentary'] },
        { id: 'trans19', title: 'Formal invitation SWâ†’EN', source: 'Tunakualika kwa heshima kwa sherehe ya ndoa ya binti yetu itakayofanyika tarehe 25 Desemba.', desc: 'Translate this formal wedding invitation to English elegantly.', payment: 0.40, time: '5 min', premium: false, keywords: ['invitation', 'formal', 'elegant'] },
        { id: 'trans20', title: 'Academic abstract ENâ†’SW', source: 'This study examines the impact of climate change on agricultural productivity in East Africa, with a focus on smallholder farmers.', desc: 'Translate this academic abstract to Swahili maintaining scholarly language.', payment: 1.20, time: '8 min', premium: true, keywords: ['academic', 'scholarly', 'precise'] }
      ],
      prompt: [
        { id: 'prompt1', title: 'E-commerce landing page', desc: 'Create a detailed prompt that would generate a modern e-commerce landing page for a sustainable fashion brand. Include: visual style, sections needed, call-to-action placement, color palette preferences.', payment: 0.50, time: '8 min', premium: false, minWords: 100, maxWords: 300, keywords: ['e-commerce', 'landing page', 'sustainable', 'fashion'] },
        { id: 'prompt2', title: 'Portfolio website prompt', desc: 'Write a prompt to generate a creative portfolio website for a photographer. Specify: gallery style, navigation, about section, contact form, overall aesthetic.', payment: 0.60, time: '10 min', premium: false, minWords: 120, maxWords: 350, keywords: ['portfolio', 'photographer', 'gallery', 'creative'] },
        { id: 'prompt3', title: 'Restaurant menu website', desc: 'Create a prompt for generating an elegant restaurant website with online menu, reservation system mockup, and location information. Include ambiance requirements.', payment: 0.70, time: '10 min', premium: false, minWords: 130, maxWords: 380, keywords: ['restaurant', 'menu', 'reservations', 'elegant'] },
        { id: 'prompt4', title: 'SaaS dashboard prompt', desc: 'Write a detailed prompt for a B2B SaaS analytics dashboard. Include: data visualization types, navigation structure, user roles, color scheme for data clarity.', payment: 1.50, time: '15 min', premium: true, minWords: 180, maxWords: 450, keywords: ['SaaS', 'dashboard', 'analytics', 'B2B'] },
        { id: 'prompt5', title: 'Educational platform UI', desc: 'Create a prompt for an online learning platform homepage. Specify: course display, progress tracking, search functionality, mobile responsiveness needs.', payment: 1.20, time: '12 min', premium: true, minWords: 150, maxWords: 400, keywords: ['education', 'learning', 'courses', 'platform'] },
        { id: 'prompt6', title: 'Mobile banking app UI', desc: 'Write a prompt for generating a secure mobile banking app interface. Include: account overview, transaction history, transfer features, security considerations.', payment: 2.00, time: '18 min', premium: true, minWords: 200, maxWords: 500, keywords: ['banking', 'mobile', 'security', 'fintech'] },
        { id: 'prompt7', title: 'News website layout', desc: 'Create a prompt for a modern news website. Specify: article layout, category navigation, trending section, breaking news banner, ad placement areas.', payment: 0.80, time: '10 min', premium: false, minWords: 140, maxWords: 400, keywords: ['news', 'articles', 'media', 'layout'] },
        { id: 'prompt8', title: 'Fitness app onboarding', desc: 'Write a prompt for fitness app onboarding screens. Include: goal setting, body metrics input, workout preferences, motivational elements.', payment: 1.00, time: '12 min', premium: true, minWords: 140, maxWords: 380, keywords: ['fitness', 'onboarding', 'goals', 'motivation'] },
        { id: 'prompt9', title: 'Real estate listings page', desc: 'Create a prompt for property listing website. Specify: search filters, property cards, map integration mockup, virtual tour placeholder, contact agent feature.', payment: 1.30, time: '14 min', premium: true, minWords: 160, maxWords: 420, keywords: ['real estate', 'listings', 'properties', 'search'] },
        { id: 'prompt10', title: 'Social media dashboard', desc: 'Write a prompt for social media management dashboard. Include: multi-platform overview, scheduling interface, analytics widgets, engagement metrics display.', payment: 1.80, time: '16 min', premium: true, minWords: 180, maxWords: 480, keywords: ['social media', 'management', 'analytics', 'scheduling'] },
        { id: 'prompt11', title: 'Event booking website', desc: 'Create a prompt for an event ticketing website. Specify: event discovery, seat selection mockup, checkout flow, calendar integration, ticket display.', payment: 0.90, time: '11 min', premium: false, minWords: 150, maxWords: 400, keywords: ['events', 'tickets', 'booking', 'calendar'] },
        { id: 'prompt12', title: 'Healthcare portal', desc: 'Write a prompt for patient healthcare portal. Include: appointment scheduling, medical records display, prescription tracking, doctor communication interface.', payment: 2.50, time: '20 min', premium: true, minWords: 220, maxWords: 550, keywords: ['healthcare', 'patient portal', 'medical', 'appointments'] },
        { id: 'prompt13', title: 'Travel planning app', desc: 'Create a prompt for travel itinerary planning app. Specify: destination search, day-by-day planner, accommodation listings, activity suggestions, budget tracker.', payment: 1.40, time: '14 min', premium: true, minWords: 170, maxWords: 440, keywords: ['travel', 'planning', 'itinerary', 'destinations'] },
        { id: 'prompt14', title: 'Food delivery interface', desc: 'Write a prompt for food delivery app homepage. Include: restaurant listings, cuisine filters, delivery time display, cart functionality, promo banners.', payment: 1.10, time: '12 min', premium: true, minWords: 150, maxWords: 400, keywords: ['food delivery', 'restaurants', 'ordering', 'mobile'] },
        { id: 'prompt15', title: 'Project management tool', desc: 'Create a prompt for project management dashboard. Specify: kanban board, timeline view, team collaboration features, task assignment, progress tracking.', payment: 2.00, time: '18 min', premium: true, minWords: 200, maxWords: 500, keywords: ['project management', 'kanban', 'collaboration', 'tasks'] },
        { id: 'prompt16', title: 'Music streaming interface', desc: 'Write a prompt for music streaming app homepage. Include: playlist display, artist pages, now playing interface, recommendation sections, search functionality.', payment: 1.20, time: '13 min', premium: true, minWords: 160, maxWords: 420, keywords: ['music', 'streaming', 'playlists', 'audio'] },
        { id: 'prompt17', title: 'Job board website', desc: 'Create a prompt for job listing platform. Specify: job search with filters, company profiles, application tracking, saved jobs, notification preferences.', payment: 0.85, time: '11 min', premium: false, minWords: 145, maxWords: 390, keywords: ['jobs', 'careers', 'recruitment', 'search'] },
        { id: 'prompt18', title: 'Cryptocurrency dashboard', desc: 'Write a prompt for crypto portfolio tracker. Include: price charts, portfolio breakdown, transaction history, market news, price alerts interface.', payment: 2.20, time: '18 min', premium: true, minWords: 190, maxWords: 480, keywords: ['crypto', 'portfolio', 'trading', 'fintech'] },
        { id: 'prompt19', title: 'Charity donation page', desc: 'Create a prompt for nonprofit donation landing page. Specify: impact stories, donation tiers, progress meters, recurring donation options, transparency section.', payment: 0.75, time: '10 min', premium: false, minWords: 130, maxWords: 360, keywords: ['charity', 'donations', 'nonprofit', 'impact'] },
        { id: 'prompt20', title: 'Smart home control app', desc: 'Write a prompt for smart home control dashboard. Include: device overview, room-by-room controls, automation scheduling, energy monitoring, security features.', payment: 2.80, time: '22 min', premium: true, minWords: 230, maxWords: 580, keywords: ['smart home', 'IoT', 'automation', 'control'] }
      ],
      teach: [
        { id: 'teach1', title: 'Climate Change Opinion', desc: 'Share your informed opinion on climate change mitigation strategies. Consider: renewable energy adoption, carbon taxes, international agreements like Paris Accord. Include real-world case studies from countries successfully reducing emissions.', payment: 0.50, time: '10 min', premium: false, minWords: 150, maxWords: 400, keywords: ['climate change', 'environment', 'policy', 'sustainability'], caseStudy: 'Reference Denmark\'s wind energy success or Costa Rica\'s reforestation' },
        { id: 'teach2', title: 'AI Ethics Discussion', desc: 'Discuss the ethical implications of AI in hiring processes. Address: algorithmic bias, transparency, accountability, human oversight. Analyze case studies of AI discrimination in recruitment.', payment: 1.20, time: '15 min', premium: true, minWords: 200, maxWords: 500, keywords: ['AI ethics', 'bias', 'hiring', 'discrimination'], caseStudy: 'Analyze Amazon\'s discontinued AI recruiting tool' },
        { id: 'teach3', title: 'Digital Currency Future', desc: 'Provide your analysis on central bank digital currencies (CBDCs). Consider: financial inclusion, privacy concerns, monetary policy implications. Compare China\'s digital yuan and other CBDC initiatives.', payment: 1.50, time: '18 min', premium: true, minWords: 220, maxWords: 550, keywords: ['CBDC', 'digital currency', 'banking', 'fintech'], caseStudy: 'Examine China\'s digital yuan rollout in Shenzhen' },
        { id: 'teach4', title: 'Remote Work Impact', desc: 'Analyze the long-term societal impacts of remote work normalization. Address: urbanization patterns, work-life balance, economic redistribution, environmental effects. Include data from post-pandemic studies.', payment: 0.80, time: '12 min', premium: false, minWords: 180, maxWords: 450, keywords: ['remote work', 'future of work', 'society', 'economy'], caseStudy: 'Reference studies from Stanford\'s remote work research' },
        { id: 'teach5', title: 'Space Commercialization', desc: 'Share your perspective on private space exploration companies. Discuss: democratization of space, safety regulations, resource exploitation, international cooperation. Analyze SpaceX vs traditional space agencies.', payment: 1.00, time: '14 min', premium: true, minWords: 190, maxWords: 480, keywords: ['space', 'SpaceX', 'commercialization', 'exploration'], caseStudy: 'Compare SpaceX and NASA collaboration models' },
        { id: 'teach6', title: 'Universal Basic Income', desc: 'Present your informed opinion on UBI implementation. Address: economic feasibility, inflation concerns, work incentives, pilot program results. Analyze Finland\'s UBI experiment outcomes.', payment: 1.30, time: '16 min', premium: true, minWords: 210, maxWords: 520, keywords: ['UBI', 'economics', 'welfare', 'policy'], caseStudy: 'Evaluate Finland\'s 2017-2018 basic income experiment' },
        { id: 'teach7', title: 'Social Media Regulation', desc: 'Discuss whether governments should regulate social media platforms. Consider: free speech, misinformation, algorithmic manipulation, user protection. Reference EU Digital Services Act.', payment: 0.70, time: '11 min', premium: false, minWords: 170, maxWords: 420, keywords: ['social media', 'regulation', 'free speech', 'misinformation'], caseStudy: 'Analyze EU\'s Digital Services Act implementation' },
        { id: 'teach8', title: 'Gene Editing Ethics', desc: 'Provide your ethical analysis of CRISPR technology applications. Address: genetic diseases, designer babies, agricultural use, ecological risks. Discuss the He Jiankui case implications.', payment: 1.80, time: '20 min', premium: true, minWords: 240, maxWords: 600, keywords: ['CRISPR', 'gene editing', 'ethics', 'biotechnology'], caseStudy: 'Analyze the He Jiankui "CRISPR babies" controversy' },
        { id: 'teach9', title: 'Electric Vehicle Transition', desc: 'Share your analysis on the global transition to electric vehicles. Consider: infrastructure needs, battery technology, grid capacity, developing nations. Compare Norway\'s EV adoption success.', payment: 0.90, time: '13 min', premium: false, minWords: 180, maxWords: 460, keywords: ['EV', 'electric vehicles', 'transportation', 'sustainability'], caseStudy: 'Study Norway\'s 80% EV market share achievement' },
        { id: 'teach10', title: 'Mental Health Crisis', desc: 'Discuss the global mental health crisis and potential solutions. Address: accessibility, stigma, technology-based interventions, workplace policies. Include WHO statistics and recommendations.', payment: 1.10, time: '14 min', premium: true, minWords: 195, maxWords: 490, keywords: ['mental health', 'wellness', 'healthcare', 'society'], caseStudy: 'Reference WHO\'s Mental Health Action Plan data' },
        { id: 'teach11', title: 'Education Transformation', desc: 'Analyze how education systems should evolve for the 21st century. Consider: personalized learning, skills vs knowledge, technology integration, assessment reform. Study Finland\'s education model.', payment: 0.85, time: '12 min', premium: false, minWords: 175, maxWords: 440, keywords: ['education', 'learning', 'skills', 'reform'], caseStudy: 'Examine Finland\'s phenomenon-based learning approach' },
        { id: 'teach12', title: 'Healthcare Access Inequality', desc: 'Discuss solutions for global healthcare access disparities. Address: universal healthcare models, technology solutions, pharmaceutical pricing, preventive care. Compare healthcare systems globally.', payment: 1.40, time: '17 min', premium: true, minWords: 215, maxWords: 540, keywords: ['healthcare', 'inequality', 'access', 'policy'], caseStudy: 'Compare US, UK, and Rwandan healthcare approaches' },
        { id: 'teach13', title: 'Gig Economy Rights', desc: 'Share your perspective on gig worker protections. Consider: employment classification, benefits, unionization, platform accountability. Analyze California\'s AB5 law and its effects.', payment: 0.95, time: '13 min', premium: false, minWords: 180, maxWords: 450, keywords: ['gig economy', 'labor rights', 'employment', 'platforms'], caseStudy: 'Evaluate California AB5 and Proposition 22 outcomes' },
        { id: 'teach14', title: 'Food Security Future', desc: 'Analyze solutions for global food security challenges. Address: vertical farming, lab-grown meat, supply chain resilience, climate adaptation. Study Singapore\'s food security initiatives.', payment: 1.25, time: '15 min', premium: true, minWords: 200, maxWords: 500, keywords: ['food security', 'agriculture', 'technology', 'sustainability'], caseStudy: 'Examine Singapore\'s "30 by 30" food production goal' },
        { id: 'teach15', title: 'Aging Population Economics', desc: 'Discuss economic implications of aging populations. Consider: pension sustainability, healthcare costs, workforce changes, immigration policies. Analyze Japan\'s demographic challenges.', payment: 1.60, time: '18 min', premium: true, minWords: 225, maxWords: 560, keywords: ['demographics', 'aging', 'economics', 'policy'], caseStudy: 'Study Japan\'s super-aging society adaptations' },
        { id: 'teach16', title: 'Digital Privacy Rights', desc: 'Share your analysis on digital privacy in the modern age. Address: data ownership, surveillance capitalism, regulation effectiveness, user rights. Compare GDPR with other privacy frameworks.', payment: 1.00, time: '14 min', premium: true, minWords: 190, maxWords: 480, keywords: ['privacy', 'data', 'rights', 'GDPR'], caseStudy: 'Evaluate GDPR\'s impact since 2018 implementation' },
        { id: 'teach17', title: 'Renewable Energy Transition', desc: 'Analyze challenges and opportunities in renewable energy transition. Consider: grid stability, energy storage, job displacement, investment needs. Study Germany\'s Energiewende experience.', payment: 0.90, time: '13 min', premium: false, minWords: 185, maxWords: 460, keywords: ['renewable energy', 'transition', 'sustainability', 'grid'], caseStudy: 'Examine Germany\'s Energiewende successes and challenges' },
        { id: 'teach18', title: 'Urban Housing Crisis', desc: 'Discuss solutions for urban housing affordability crises. Address: zoning reform, social housing, rent control, urban planning. Analyze Vienna\'s social housing model.', payment: 1.15, time: '15 min', premium: true, minWords: 195, maxWords: 490, keywords: ['housing', 'urban', 'affordability', 'policy'], caseStudy: 'Study Vienna\'s 100-year social housing program' },
        { id: 'teach19', title: 'Vaccine Equity', desc: 'Share your perspective on global vaccine distribution equity. Consider: intellectual property, manufacturing capacity, international cooperation, pandemic preparedness. Analyze COVAX initiative outcomes.', payment: 1.35, time: '16 min', premium: true, minWords: 205, maxWords: 520, keywords: ['vaccines', 'equity', 'global health', 'pandemic'], caseStudy: 'Evaluate COVAX\'s COVID-19 vaccine distribution outcomes' },
        { id: 'teach20', title: 'Circular Economy', desc: 'Analyze the transition to circular economy models. Address: waste reduction, product lifecycle, business model changes, consumer behavior. Study the Netherlands\' circular economy roadmap.', payment: 1.05, time: '14 min', premium: false, minWords: 185, maxWords: 470, keywords: ['circular economy', 'sustainability', 'waste', 'business'], caseStudy: 'Examine Netherlands\' goal to be fully circular by 2050' }
      ]
    };
    
    // Initialize App
    function initApp() {
      loadState();
      checkLoggedIn();
      renderTasks();
      updateUI();
    }
    
    // Local Storage Functions
    function saveState() {
      localStorage.setItem('aiRunnerState', JSON.stringify(state));
    }
    
    function loadState() {
      const saved = localStorage.getItem('aiRunnerState');
      if (saved) {
        state = { ...state, ...JSON.parse(saved) };
      }
    }
    
    // Check if user is logged in
    function checkLoggedIn() {
      if (state.user) {
        updateNavForLoggedIn();
        showPage('dashboard');
      }
    }
    
    // Update navigation for logged in users
    function updateNavForLoggedIn() {
      const loginBtn = document.querySelector('button[onclick="showModal(\'login\')"]');
      if (loginBtn && state.user) {
        loginBtn.innerHTML = `<span class="text-neon-blue">${state.user.name.split(' ')[0]}</span>`;
        loginBtn.onclick = () => showPage('dashboard');
      }
      
      document.getElementById('sidebarUserInfo').classList.remove('hidden');
      document.getElementById('sidebarUsername').textContent = state.user.name;
      document.getElementById('sidebarPlan').textContent = state.user.plan === 'premium' ? 'â­ Premium' : 'Free Plan';
    }
    
    // Page Navigation
    function showPage(page) {
      document.querySelectorAll('.page').forEach(p => p.classList.add('hidden'));
      
      const pageElement = document.getElementById(page + 'Page');
      if (pageElement) {
        pageElement.classList.remove('hidden');
        state.currentPage = page;
      }
      
      if (page === 'tasks') {
        renderTasks();
      }
      
      updateUI();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    
    // Update all UI elements
    function updateUI() {
      if (state.user) {
        document.getElementById('dashboardUsername').textContent = state.user.name;
        document.getElementById('sidebarUsername').textContent = state.user.name;
        document.getElementById('sidebarPlan').textContent = state.user.plan === 'premium' ? 'â­ Premium' : 'Free Plan';
      }
      
      const balance = state.balance.toFixed(2);
      const balanceKsh = (state.balance * 129).toFixed(2);
      
      const walletBalance = document.getElementById('walletBalance');
      const walletBalanceKsh = document.getElementById('walletBalanceKsh');
      const walletBalanceLarge = document.getElementById('walletBalanceLarge');
      const walletBalanceKshLarge = document.getElementById('walletBalanceKshLarge');
      
      if (walletBalance) walletBalance.textContent = '$' + balance;
      if (walletBalanceKsh) walletBalanceKsh.textContent = 'KSh ' + balanceKsh;
      if (walletBalanceLarge) walletBalanceLarge.textContent = '$' + balance;
      if (walletBalanceKshLarge) walletBalanceKshLarge.textContent = 'KSh ' + balanceKsh;
      
      const tasksCompleted = document.getElementById('tasksCompleted');
      const totalEarned = document.getElementById('totalEarned');
      const userPlanDisplay = document.getElementById('userPlanDisplay');
      
      if (tasksCompleted) tasksCompleted.textContent = state.tasksCompleted;
      if (totalEarned) totalEarned.textContent = '$' + state.totalEarned.toFixed(2);
      if (userPlanDisplay && state.user) userPlanDisplay.textContent = state.user.plan === 'premium' ? 'Premium â­' : 'Free';
      
      // Update withdrawal info based on plan
      if (state.user) {
        const minWithdrawal = document.getElementById('minWithdrawal');
        const nextWithdrawal = document.getElementById('nextWithdrawal');
        
        if (state.user.plan === 'premium') {
          if (minWithdrawal) minWithdrawal.textContent = '$10.00';
          if (nextWithdrawal) nextWithdrawal.textContent = 'Available weekly';
        } else {
          if (minWithdrawal) minWithdrawal.textContent = '$20.00';
          if (nextWithdrawal) {
            const regDate = new Date(state.user.registeredAt);
            const withdrawDate = new Date(regDate.getTime() + 25 * 24 * 60 * 60 * 1000);
            if (new Date() >= withdrawDate) {
              nextWithdrawal.textContent = 'Available now';
            } else {
              const daysLeft = Math.ceil((withdrawDate - new Date()) / (24 * 60 * 60 * 1000));
              nextWithdrawal.textContent = `In ${daysLeft} days`;
            }
          }
        }
      }
      
      updateRecentActivity();
      updateEarningsPage();
    }
    
    // Toggle currency display
    function toggleCurrency() {
      state.showCurrencyKsh = !state.showCurrencyKsh;
      const toggle = document.getElementById('currencyToggle');
      toggle.textContent = state.showCurrencyKsh ? 'KSh ğŸ‡°ğŸ‡ª' : 'USD ğŸ’µ';
    }
    
    // Mobile Menu
    function toggleMenu() {
      const sidebar = document.getElementById('sidebar');
      sidebar.classList.toggle('hidden');
    }
    
    // Modal Functions
    function showModal(modalName) {
      const modal = document.getElementById(modalName + 'Modal');
      if (modal) {
        modal.classList.remove('hidden');
        document.body.style.overflow = 'hidden';
      }
    }
    
    function closeModal(modalName) {
      const modal = document.getElementById(modalName + 'Modal');
      if (modal) {
        modal.classList.add('hidden');
        document.body.style.overflow = '';
      }
    }
    
    function switchModal(from, to) {
      closeModal(from);
      setTimeout(() => showModal(to), 200);
    }
    
    // Form Handlers
    async function handleRegister(e) {
      e.preventDefault();
      
      const name = document.getElementById('regName').value;
      const email = document.getElementById('regEmail').value;
      const phone = document.getElementById('regPhone').value;
      const password = document.getElementById('regPassword').value;
      
      state.user = {
        name,
        email,
        phone,
        plan: 'free',
        registeredAt: new Date().toISOString()
      };
      
      state.balance = 0;
      state.tasksCompleted = 0;
      state.totalEarned = 0;
      state.earnings = [];
      state.transactions = [];
      
      saveState();
      
      // Send to Web3Forms
      await sendToWeb3Forms({
        type: 'Registration',
        name,
        email,
        phone,
        plan: 'Free',
        registeredAt: new Date().toLocaleString()
      });
      
      closeModal('register');
      updateNavForLoggedIn();
      showPage('dashboard');
      showToast('Welcome to AI Runner! ğŸ‰', 'âœ…');
    }
    
    async function handleLogin(e) {
      e.preventDefault();
      
      const email = document.getElementById('loginEmail').value;
      const password = document.getElementById('loginPassword').value;
      
      // Check if user exists in local storage
      const saved = localStorage.getItem('aiRunnerState');
      if (saved) {
        const savedState = JSON.parse(saved);
        if (savedState.user && savedState.user.email === email) {
          state = savedState;
          closeModal('login');
          updateNavForLoggedIn();
          showPage('dashboard');
          showToast('Welcome back! ğŸ‘‹', 'âœ…');
          return;
        }
      }
      
      // Create new user if not found
      state.user = {
        name: email.split('@')[0],
        email,
        phone: '',
        plan: 'free',
        registeredAt: new Date().toISOString()
      };
      
      saveState();
      closeModal('login');
      updateNavForLoggedIn();
      showPage('dashboard');
      showToast('Logged in successfully!', 'âœ…');
    }
    
    function handleUpgrade() {
      if (!state.user) {
        showModal('register');
        return;
      }
      
      if (state.user.plan === 'premium') {
        showToast('You are already a Premium member! â­', 'âœ…');
        closeModal('upgrade');
        return;
      }
      
      // Redirect to payment
      window.open('https://payment.intasend.com/pay/159b9e33-b56f-49d4-b57e-de6a7cb38560/', '_blank', 'noopener,noreferrer');
      
      // For demo, mark as premium after redirect
      setTimeout(async () => {
        state.user.plan = 'premium';
        saveState();
        
        await sendToWeb3Forms({
          type: 'Upgrade',
          name: state.user.name,
          email: state.user.email,
          plan: 'Premium',
          amount: '$3.00',
          upgradedAt: new Date().toLocaleString()
        });
        
        closeModal('upgrade');
        updateUI();
        showToast('Welcome to Premium! ğŸš€', 'â­');
      }, 1000);
    }
    
    async function handleWithdraw(e) {
      e.preventDefault();
      
      const amount = parseFloat(document.getElementById('withdrawAmount').value);
      const method = document.getElementById('withdrawMethod').value;
      const errorDiv = document.getElementById('withdrawError');
      
      // Validation
      const minAmount = state.user.plan === 'premium' ? 10 : 20;
      
      if (amount < minAmount) {
        errorDiv.classList.remove('hidden');
        errorDiv.textContent = `Minimum withdrawal is $${minAmount}.`;
        return;
      }
      
      if (amount > state.balance) {
        errorDiv.classList.remove('hidden');
        errorDiv.textContent = 'Insufficient balance.';
        return;
      }
      
      // Check withdrawal eligibility for free users
      if (state.user.plan !== 'premium') {
        const regDate = new Date(state.user.registeredAt);
        const withdrawDate = new Date(regDate.getTime() + 25 * 24 * 60 * 60 * 1000);
        if (new Date() < withdrawDate) {
          const daysLeft = Math.ceil((withdrawDate - new Date()) / (24 * 60 * 60 * 1000));
          errorDiv.classList.remove('hidden');
          errorDiv.textContent = `Withdrawal available in ${daysLeft} days. Upgrade to Premium for weekly withdrawals!`;
          return;
        }
      }
      
      errorDiv.classList.add('hidden');
      
      let details = { method };
      if (method === 'bank') {
        details.bankName = document.getElementById('bankName').value;
        details.accountNumber = document.getElementById('accountNumber').value;
      } else if (method === 'paypal') {
        details.paypalEmail = document.getElementById('paypalEmail').value;
      }
      
      state.balance -= amount;
      state.transactions.push({
        type: 'withdrawal',
        amount,
        method,
        details,
        date: new Date().toISOString(),
        status: 'pending'
      });
      
      saveState();
      
      await sendToWeb3Forms({
        type: 'Withdrawal Request',
        name: state.user.name,
        email: state.user.email,
        amount: `$${amount.toFixed(2)}`,
        method,
        ...details,
        requestedAt: new Date().toLocaleString()
      });
      
      closeModal('withdraw');
      updateUI();
      showToast(`Withdrawal of $${amount.toFixed(2)} requested! ğŸ’¸`, 'âœ…');
    }
    
    async function handleSupport(e) {
      e.preventDefault();
      
      const subject = document.getElementById('supportSubject').value;
      const message = document.getElementById('supportMessage').value;
      
      await sendToWeb3Forms({
        type: 'Support Ticket',
        name: state.user ? state.user.name : 'Guest',
        email: state.user ? state.user.email : 'N/A',
        subject,
        message,
        submittedAt: new Date().toLocaleString()
      });
      
      closeModal('support');
      showToast('Support ticket submitted! ğŸ“¨', 'âœ…');
    }
    
    // Web3Forms API
    async function sendToWeb3Forms(data) {
      try {
        const response = await fetch('https://api.web3forms.com/submit', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            access_key: 'a0a5e898-8dde-43eb-8d36-e0c1757a3219',
            subject: `AI Runner - ${data.type}`,
            from_name: 'AI Runner Platform',
            ...data
          })
        });
        return response.json();
      } catch (error) {
        console.error('Web3Forms error:', error);
      }
    }
    
    // Withdraw method change handler
    document.getElementById('withdrawMethod')?.addEventListener('change', function() {
      const bankDetails = document.getElementById('bankDetails');
      const paypalDetails = document.getElementById('paypalDetails');
      
      bankDetails.classList.add('hidden');
      paypalDetails.classList.add('hidden');
      
      if (this.value === 'bank') {
        bankDetails.classList.remove('hidden');
      } else if (this.value === 'paypal') {
        paypalDetails.classList.remove('hidden');
      }
    });
    
    // External Links
    function handleExternalLink(type) {
      const modal = document.getElementById('externalLinkModal');
      const message = document.getElementById('externalLinkMessage');
      const linkBtn = document.getElementById('externalLinkBtn');
      
      if (type === 'chat') {
        message.textContent = 'You are about to visit Chat.com - an external website for chat and earn opportunities.';
        linkBtn.href = 'https://www.chat.com';
      } else if (type === 'primewatch') {
        message.textContent = 'You are about to visit PrimeWatch.com - an external streaming website.';
        linkBtn.href = 'https://www.primewatch.com';
      }
      
      toggleMenu();
      showModal('externalLink');
    }
    
    // Toast Notification
    function showToast(message, icon = 'âœ…') {
      const toast = document.getElementById('toast');
      const toastMessage = document.getElementById('toastMessage');
      const toastIcon = document.getElementById('toastIcon');
      
      toastMessage.textContent = message;
      toastIcon.textContent = icon;
      
      toast.classList.remove('hidden', 'translate-y-full');
      toast.classList.add('translate-y-0');
      
      setTimeout(() => {
        toast.classList.add('translate-y-full');
        setTimeout(() => toast.classList.add('hidden'), 300);
      }, 3000);
    }
    
    // Render Tasks
    function renderTasks() {
      const tasksList = document.getElementById('tasksList');
      if (!tasksList) return;
      
      let allTasks = [];
      const filter = state.currentTaskCategory;
      
      if (filter === 'all') {
        Object.keys(tasksData).forEach(cat => {
          tasksData[cat].forEach(task => {
            allTasks.push({ ...task, category: cat });
          });
        });
      } else {
        allTasks = tasksData[filter]?.map(task => ({ ...task, category: filter })) || [];
      }
      
      tasksList.innerHTML = allTasks.map((task, index) => {
        const isPremiumLocked = task.premium && (!state.user || state.user.plan !== 'premium');
        const categoryIcons = {
          chat: 'ğŸ’¬',
          rewrite: 'âœï¸',
          translate: 'ğŸŒ',
          prompt: 'ğŸ¯',
          teach: 'ğŸ§ '
        };
        
        return `
          <div class="task-card glow-card rounded-2xl p-4 md:p-6 ${isPremiumLocked ? 'opacity-70' : ''}">
            <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
              <div class="flex-1">
                <div class="flex items-center gap-2 mb-2">
                  <span class="text-xl">${categoryIcons[task.category]}</span>
                  <h3 class="font-semibold text-lg">${task.title}</h3>
                  ${task.premium ? '<span class="px-2 py-0.5 rounded-full premium-badge text-black text-xs font-bold">Premium</span>' : ''}
                </div>
                <p class="text-gray-400 text-sm mb-3 line-clamp-2">${task.desc.substring(0, 100)}...</p>
                <div class="flex flex-wrap gap-3 text-sm">
                  <span class="text-neon-green font-bold">$${task.payment.toFixed(2)}</span>
                  <span class="text-gray-500">â± ${task.time}</span>
                  ${task.minWords ? `<span class="text-gray-500">ğŸ“ ${task.minWords}-${task.maxWords} words</span>` : ''}
                </div>
              </div>
              <div class="flex gap-2">
                <button onclick="viewTask('${task.category}', '${task.id}')" class="px-4 py-2 rounded-xl border border-neon-blue/30 hover:bg-neon-blue/20 transition text-sm">
                  View
                </button>
                ${isPremiumLocked ? 
                  `<button onclick="showModal('upgrade')" class="px-4 py-2 rounded-xl bg-neon-purple/20 border border-neon-purple/30 text-sm">
                    ğŸ”’ Unlock
                  </button>` :
                  `<button onclick="acceptTask('${task.category}', '${task.id}')" class="px-4 py-2 rounded-xl btn-neon text-sm font-semibold">
                    Accept
                  </button>`
                }
              </div>
            </div>
          </div>
        `;
      }).join('');
    }
    
    // Filter Tasks
    function filterTasks(category) {
      state.currentTaskCategory = category;
      
      document.querySelectorAll('.task-filter-btn').forEach(btn => {
        btn.classList.remove('bg-neon-blue/20', 'border-neon-blue/30');
        btn.classList.add('bg-dark-surface', 'border-neon-blue/20');
      });
      
      const activeBtn = document.querySelector(`[data-filter="${category}"]`);
      if (activeBtn) {
        activeBtn.classList.add('bg-neon-blue/20', 'border-neon-blue/30');
        activeBtn.classList.remove('bg-dark-surface', 'border-neon-blue/20');
      }
      
      renderTasks();
    }
    
    // Show task category from dashboard
    function showTaskCategory(category) {
      showPage('tasks');
      setTimeout(() => filterTasks(category), 100);
    }
    
    // View Task Details
    function viewTask(category, taskId) {
      const task = tasksData[category]?.find(t => t.id === taskId);
      if (!task) return;
      
      const categoryNames = {
        chat: 'AI Chat Mission',
        rewrite: 'Rewrite & Improve',
        translate: 'Translation Task',
        prompt: 'Prompt Challenge',
        teach: 'AI Teach'
      };
      
      const modalContent = document.getElementById('taskModalContent');
      modalContent.innerHTML = `
        <div class="mb-6">
          <span class="text-4xl">${getCategoryIcon(category)}</span>
          <h2 class="font-orbitron text-xl font-bold mt-4 neon-text">${task.title}</h2>
          <p class="text-neon-purple text-sm">${categoryNames[category]}</p>
        </div>
        
        <div class="space-y-4 mb-6">
          <div class="p-4 rounded-xl bg-dark-surface">
            <h4 class="font-semibold mb-2">Task Description</h4>
            <p class="text-gray-300 text-sm">${task.desc}</p>
          </div>
          
          ${task.original ? `
            <div class="p-4 rounded-xl bg-red-500/10 border border-red-500/30">
              <h4 class="font-semibold mb-2 text-red-400">Original Text to Fix:</h4>
              <p class="text-gray-300 text-sm italic">"${task.original}"</p>
            </div>
          ` : ''}
          
          ${task.source ? `
            <div class="p-4 rounded-xl bg-blue-500/10 border border-blue-500/30">
              <h4 class="font-semibold mb-2 text-blue-400">Source Text:</h4>
              <p class="text-gray-300 text-sm">"${task.source}"</p>
            </div>
          ` : ''}
          
          ${task.caseStudy ? `
            <div class="p-4 rounded-xl bg-purple-500/10 border border-purple-500/30">
              <h4 class="font-semibold mb-2 text-purple-400">ğŸ“š Case Study Reference:</h4>
              <p class="text-gray-300 text-sm">${task.caseStudy}</p>
            </div>
          ` : ''}
          
          <div class="grid grid-cols-2 gap-4">
            <div class="p-3 rounded-xl bg-neon-green/10">
              <p class="text-xs text-gray-400">Payment</p>
              <p class="font-bold text-neon-green">$${task.payment.toFixed(2)}</p>
            </div>
            <div class="p-3 rounded-xl bg-neon-blue/10">
              <p class="text-xs text-gray-400">Est. Time</p>
              <p class="font-bold text-neon-blue">${task.time}</p>
            </div>
          </div>
          
          ${task.minWords ? `
            <div class="p-3 rounded-xl bg-dark-surface">
              <p class="text-xs text-gray-400 mb-1">Word Count Requirements</p>
              <p class="font-bold">Min: ${task.minWords} | Max: ${task.maxWords} words</p>
            </div>
          ` : ''}
          
          ${task.keywords ? `
            <div class="p-3 rounded-xl bg-dark-surface">
              <p class="text-xs text-gray-400 mb-2">Keywords to Include:</p>
              <div class="flex flex-wrap gap-2">
                ${task.keywords.map(k => `<span class="px-2 py-1 rounded-full bg-neon-purple/20 text-xs">${k}</span>`).join('')}
              </div>
            </div>
          ` : ''}
        </div>
        
        <div class="flex gap-4">
          <button onclick="closeModal('task')" class="flex-1 py-3 rounded-xl border border-neon-blue/30 hover:bg-neon-blue/20 transition">
            Close
          </button>
          ${task.premium && (!state.user || state.user.plan !== 'premium') ?
            `<button onclick="showModal('upgrade'); closeModal('task');" class="flex-1 py-3 rounded-xl btn-neon font-bold">
              ğŸ”’ Upgrade to Accept
            </button>` :
            `<button onclick="acceptTask('${category}', '${task.id}'); closeModal('task');" class="flex-1 py-3 rounded-xl btn-neon font-bold">
              Accept Task âœ“
            </button>`
          }
        </div>
      `;
      
      showModal('task');
    }
    
    function getCategoryIcon(category) {
      const icons = { chat: 'ğŸ’¬', rewrite: 'âœï¸', translate: 'ğŸŒ', prompt: 'ğŸ¯', teach: 'ğŸ§ ' };
      return icons[category] || 'ğŸ“‹';
    }
    
    // Accept Task
    function acceptTask(category, taskId) {
      if (!state.user) {
        showModal('register');
        return;
      }
      
      const task = tasksData[category]?.find(t => t.id === taskId);
      if (!task) return;
      
      if (task.premium && state.user.plan !== 'premium') {
        showModal('upgrade');
        return;
      }
      
      // Check daily limit for free users
      if (state.user.plan !== 'premium') {
        const today = new Date().toDateString();
        const todaysTasks = state.earnings.filter(e => new Date(e.date).toDateString() === today);
        if (todaysTasks.length >= 10) {
          showToast('Daily task limit reached! Upgrade to Premium for unlimited tasks.', 'âš ï¸');
          showModal('upgrade');
          return;
        }
      }
      
      // Start task - show submission form
      showTaskSubmissionForm(task, category);
    }
    
    // Task Submission Form
    function showTaskSubmissionForm(task, category) {
      const modalContent = document.getElementById('taskModalContent');
      
      let inputField = '';
      if (category === 'chat' || category === 'teach') {
        inputField = `
          <div>
            <label class="block text-sm text-gray-400 mb-1">Your Response (${task.minWords}-${task.maxWords} words)</label>
            <textarea id="taskResponse" rows="8" class="w-full px-4 py-3 rounded-xl bg-dark-surface border border-neon-blue/30 focus:border-neon-blue focus:outline-none resize-none" placeholder="Write your response here..."></textarea>
            <p class="text-xs text-gray-500 mt-1">Word count: <span id="wordCount">0</span></p>
          </div>
        `;
      } else if (category === 'rewrite') {
        inputField = `
          <div class="p-4 rounded-xl bg-red-500/10 border border-red-500/30 mb-4">
            <h4 class="font-semibold mb-2 text-red-400">Original Text:</h4>
            <p class="text-gray-300 text-sm italic">"${task.original}"</p>
          </div>
          <div>
            <label class="block text-sm text-gray-400 mb-1">Your Corrected Version</label>
            <textarea id="taskResponse" rows="4" class="w-full px-4 py-3 rounded-xl bg-dark-surface border border-neon-blue/30 focus:border-neon-blue focus:outline-none resize-none" placeholder="Write the corrected version here..."></textarea>
          </div>
        `;
      } else if (category === 'translate') {
        inputField = `
          <div class="p-4 rounded-xl bg-blue-500/10 border border-blue-500/30 mb-4">
            <h4 class="font-semibold mb-2 text-blue-400">Source Text:</h4>
            <p class="text-gray-300 text-sm">"${task.source}"</p>
          </div>
          <div>
            <label class="block text-sm text-gray-400 mb-1">Your Translation</label>
            <textarea id="taskResponse" rows="4" class="w-full px-4 py-3 rounded-xl bg-dark-surface border border-neon-blue/30 focus:border-neon-blue focus:outline-none resize-none" placeholder="Write your translation here..."></textarea>
          </div>
        `;
      } else if (category === 'prompt') {
        inputField = `
          <div>
            <label class="block text-sm text-gray-400 mb-1">Your Prompt (${task.minWords}-${task.maxWords} words)</label>
            <textarea id="taskResponse" rows="10" class="w-full px-4 py-3 rounded-xl bg-dark-surface border border-neon-blue/30 focus:border-neon-blue focus:outline-none resize-none" placeholder="Write your detailed prompt here..."></textarea>
            <p class="text-xs text-gray-500 mt-1">Word count: <span id="wordCount">0</span></p>
          </div>
        `;
      }
      
      modalContent.innerHTML = `
        <div class="mb-6">
          <span class="text-4xl">${getCategoryIcon(category)}</span>
          <h2 class="font-orbitron text-xl font-bold mt-4 neon-text">${task.title}</h2>
          <p class="text-gray-400 text-sm mt-2">${task.desc}</p>
        </div>
        
        ${task.keywords ? `
          <div class="p-3 rounded-xl bg-dark-surface mb-4">
            <p class="text-xs text-gray-400 mb-2">Include these keywords:</p>
            <div class="flex flex-wrap gap-2">
              ${task.keywords.map(k => `<span class="px-2 py-1 rounded-full bg-neon-purple/20 text-xs">${k}</span>`).join('')}
            </div>
          </div>
        ` : ''}
        
        ${task.caseStudy ? `
          <div class="p-3 rounded-xl bg-purple-500/10 border border-purple-500/30 mb-4">
            <p class="text-xs text-purple-400 mb-1">ğŸ“š Case Study Reference:</p>
            <p class="text-sm text-gray-300">${task.caseStudy}</p>
          </div>
        ` : ''}
        
        <form onsubmit="submitTask(event, '${category}', '${task.id}')" class="space-y-4">
          ${inputField}
          
          <div class="flex gap-4">
            <button type="button" onclick="closeModal('task')" class="flex-1 py-3 rounded-xl border border-neon-blue/30 hover:bg-neon-blue/20 transition">
              Cancel
            </button>
            <button type="submit" class="flex-1 py-3 rounded-xl btn-neon font-bold">
              Submit Task (+$${task.payment.toFixed(2)})
            </button>
          </div>
        </form>
      `;
      
      showModal('task');
      
      // Add word counter
      const textarea = document.getElementById('taskResponse');
      const wordCountSpan = document.getElementById('wordCount');
      if (textarea && wordCountSpan) {
        textarea.addEventListener('input', () => {
          const words = textarea.value.trim().split(/\s+/).filter(w => w.length > 0).length;
          wordCountSpan.textContent = words;
        });
      }
    }
    
    // Submit Task
    function submitTask(e, category, taskId) {
      e.preventDefault();
      
      const task = tasksData[category]?.find(t => t.id === taskId);
      if (!task) return;
      
      const response = document.getElementById('taskResponse')?.value.trim();
      
      if (!response || response.length < 10) {
        showToast('Please provide a valid response.', 'âš ï¸');
        return;
      }
      
      // Validate word count for applicable tasks
      if (task.minWords) {
        const words = response.split(/\s+/).filter(w => w.length > 0).length;
        if (words < task.minWords) {
          showToast(`Minimum ${task.minWords} words required. You have ${words}.`, 'âš ï¸');
          return;
        }
        if (words > task.maxWords) {
          showToast(`Maximum ${task.maxWords} words allowed. You have ${words}.`, 'âš ï¸');
          return;
        }
      }
      
      // Add earnings
      state.balance += task.payment;
      state.totalEarned += task.payment;
      state.tasksCompleted += 1;
      
      state.earnings.push({
        taskId: task.id,
        taskTitle: task.title,
        category,
        amount: task.payment,
        date: new Date().toISOString(),
        response: response.substring(0, 200)
      });
      
      state.transactions.push({
        type: 'earning',
        taskTitle: task.title,
        amount: task.payment,
        date: new Date().toISOString()
      });
      
      saveState();
      closeModal('task');
      updateUI();
      showToast(`Task completed! +$${task.payment.toFixed(2)} ğŸ‰`, 'ğŸ’°');
    }
    
    // Update Recent Activity
    function updateRecentActivity() {
      const activityContainer = document.getElementById('recentActivity');
      if (!activityContainer) return;
      
      const recentItems = [...state.earnings, ...state.transactions.filter(t => t.type === 'withdrawal')]
        .sort((a, b) => new Date(b.date) - new Date(a.date))
        .slice(0, 10);
      
      if (recentItems.length === 0) {
        activityContainer.innerHTML = '<p class="text-gray-500 text-center py-4">No recent activity</p>';
        return;
      }
      
      activityContainer.innerHTML = recentItems.map(item => {
        const date = new Date(item.date).toLocaleDateString();
        const time = new Date(item.date).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        
        if (item.type === 'withdrawal') {
          return `
            <div class="flex items-center justify-between p-3 rounded-xl bg-dark-surface/50">
              <div class="flex items-center gap-3">
                <span class="text-xl">ğŸ’³</span>
                <div>
                  <p class="font-medium">Withdrawal Requested</p>
                  <p class="text-xs text-gray-500">${date} at ${time}</p>
                </div>
              </div>
              <span class="text-red-400 font-bold">-$${item.amount.toFixed(2)}</span>
            </div>
          `;
        }
        
        return `
          <div class="flex items-center justify-between p-3 rounded-xl bg-dark-surface/50">
            <div class="flex items-center gap-3">
              <span class="text-xl">${getCategoryIcon(item.category)}</span>
              <div>
                <p class="font-medium text-sm">${item.taskTitle}</p>
                <p class="text-xs text-gray-500">${date} at ${time}</p>
              </div>
            </div>
            <span class="text-neon-green font-bold">+$${item.amount.toFixed(2)}</span>
          </div>
        `;
      }).join('');
    }
    
    // Update Earnings Page
    function updateEarningsPage() {
      const today = new Date().toDateString();
      const weekAgo = new Date(Date.now() - 7 * 24 * 60 * 60 * 1000);
      
      const todayEarnings = state.earnings
        .filter(e => new Date(e.date).toDateString() === today)
        .reduce((sum, e) => sum + e.amount, 0);
      
      const weekEarnings = state.earnings
        .filter(e => new Date(e.date) >= weekAgo)
        .reduce((sum, e) => sum + e.amount, 0);
      
      const todayEl = document.getElementById('earningsToday');
      const weekEl = document.getElementById('earningsWeek');
      const allTimeEl = document.getElementById('earningsAllTime');
      
      if (todayEl) todayEl.textContent = '$' + todayEarnings.toFixed(2);
      if (weekEl) weekEl.textContent = '$' + weekEarnings.toFixed(2);
      if (allTimeEl) allTimeEl.textContent = '$' + state.totalEarned.toFixed(2);
      
      const earningsList = document.getElementById('earningsList');
      if (earningsList) {
        if (state.earnings.length === 0) {
          earningsList.innerHTML = '<p class="text-gray-500 text-center py-8">Complete tasks to see your earnings</p>';
        } else {
          earningsList.innerHTML = state.earnings
            .sort((a, b) => new Date(b.date) - new Date(a.date))
            .map(e => {
              const date = new Date(e.date).toLocaleDateString();
              return `
                <div class="flex items-center justify-between p-3 rounded-xl bg-dark-surface/50">
                  <div class="flex items-center gap-3">
                    <span class="text-xl">${getCategoryIcon(e.category)}</span>
                    <div>
                      <p class="font-medium text-sm">${e.taskTitle}</p>
                      <p class="text-xs text-gray-500">${date}</p>
                    </div>
                  </div>
                  <span class="text-neon-green font-bold">+$${e.amount.toFixed(2)}</span>
                </div>
              `;
            }).join('');
        }
      }
    }
    
    // Logout
    function logout() {
      state.user = null;
      localStorage.removeItem('aiRunnerState');
      toggleMenu();
      showPage('landing');
      showToast('Logged out successfully', 'ğŸ‘‹');
      setTimeout(() => location.reload(), 500);
    }
    
    // Element SDK Integration
    const defaultConfig = {
      site_title: 'AI Runner',
      hero_headline: 'Run AI Tasks. Earn Instantly.',
      hero_subtext: 'Complete AI microtasks and get paid $0.01 â€“ $4 per task. Join thousands earning with artificial intelligence.',
      primary_color: '#00d4ff',
      secondary_color: '#8b5cf6',
      accent_color: '#10b981',
      text_color: '#ffffff',
      background_color: '#0a0a1a'
    };
    
    async function onConfigChange(config) {
      const siteTitle = config.site_title || defaultConfig.site_title;
      const heroHeadline = config.hero_headline || defaultConfig.hero_headline;
      const heroSubtext = config.hero_subtext || defaultConfig.hero_subtext;
      
      document.title = siteTitle;
      
      const headlineEl = document.getElementById('heroHeadline');
      if (headlineEl) headlineEl.textContent = heroHeadline;
      
      const subtextEl = document.getElementById('heroSubtext');
      if (subtextEl) subtextEl.innerHTML = heroSubtext.replace('$0.01 â€“ $4', '<span class="text-neon-green font-bold">$0.01 â€“ $4</span>');
    }
    
    function mapToCapabilities(config) {
      return {
        recolorables: [
          {
            get: () => config.primary_color || defaultConfig.primary_color,
            set: (value) => {
              config.primary_color = value;
              if (window.elementSdk) window.elementSdk.setConfig({ primary_color: value });
            }
          },
          {
            get: () => config.secondary_color || defaultConfig.secondary_color,
            set: (value) => {
              config.secondary_color = value;
              if (window.elementSdk) window.elementSdk.setConfig({ secondary_color: value });
            }
          },
          {
            get: () => config.accent_color || defaultConfig.accent_color,
            set: (value) => {
              config.accent_color = value;
              if (window.elementSdk) window.elementSdk.setConfig({ accent_color: value });
            }
          }
        ],
        borderables: [],
        fontEditable: undefined,
        fontSizeable: undefined
      };
    }
    
    function mapToEditPanelValues(config) {
      return new Map([
        ['site_title', config.site_title || defaultConfig.site_title],
        ['hero_headline', config.hero_headline || defaultConfig.hero_headline],
        ['hero_subtext', config.hero_subtext || defaultConfig.hero_subtext]
      ]);
    }
    
    // Initialize
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }
    
    // Start app
    initApp();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9cee7fe1f7659c02',t:'MTc3MTI2MDE2MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>