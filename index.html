<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Runner - Earn Real Rewards</title>
  <script src="https://cdn.tailwindcss.com/3.4.17"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&amp;family=Exo+2:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            orbitron: ['Orbitron', 'monospace'],
            exo: ['Exo 2', 'sans-serif']
          },
          colors: {
            navy: '#0a0e27',
            'navy-light': '#141937',
            neon: '#00ff88',
            'neon-dark': '#00cc6a',
            electric: '#00d4ff',
            purple: '#8b5cf6',
            'purple-dark': '#7c3aed'
          }
        }
      }
    }
  </script>
  <style>
    html, body { height: 100%; margin: 0; }
    
    .video-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -1;
      opacity: 0.4;
      filter: brightness(0.6) contrast(1.2);
    }
    
    .glass {
      background: rgba(10, 14, 39, 0.7);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(0, 255, 136, 0.2);
    }
    
    .glass-light {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(0, 255, 136, 0.3);
    }
    
    .neon-glow {
      box-shadow: 0 0 20px rgba(0, 255, 136, 0.5), 0 0 40px rgba(0, 255, 136, 0.3);
    }
    
    .neon-text {
      text-shadow: 0 0 10px rgba(0, 255, 136, 0.8), 0 0 20px rgba(0, 255, 136, 0.5);
    }
    
    .electric-glow {
      box-shadow: 0 0 20px rgba(0, 212, 255, 0.5), 0 0 40px rgba(0, 212, 255, 0.3);
    }
    
    .purple-glow {
      box-shadow: 0 0 20px rgba(139, 92, 246, 0.5), 0 0 40px rgba(139, 92, 246, 0.3);
    }
    
    .btn-neon {
      background: linear-gradient(135deg, #00ff88, #00cc6a);
      transition: all 0.3s ease;
    }
    
    .btn-neon:hover {
      box-shadow: 0 0 30px rgba(0, 255, 136, 0.8), 0 0 60px rgba(0, 255, 136, 0.4);
      transform: translateY(-2px);
    }
    
    .btn-electric {
      background: linear-gradient(135deg, #00d4ff, #0099cc);
      transition: all 0.3s ease;
    }
    
    .btn-electric:hover {
      box-shadow: 0 0 30px rgba(0, 212, 255, 0.8), 0 0 60px rgba(0, 212, 255, 0.4);
      transform: translateY(-2px);
    }
    
    .btn-purple {
      background: linear-gradient(135deg, #8b5cf6, #7c3aed);
      transition: all 0.3s ease;
    }
    
    .btn-purple:hover {
      box-shadow: 0 0 30px rgba(139, 92, 246, 0.8), 0 0 60px rgba(139, 92, 246, 0.4);
      transform: translateY(-2px);
    }
    
    .card-hover {
      transition: all 0.3s ease;
    }
    
    .card-hover:hover {
      transform: translateY(-5px);
      border-color: rgba(0, 255, 136, 0.6);
    }
    
    .floating {
      animation: float 6s ease-in-out infinite;
    }
    
    .floating-delayed {
      animation: float 6s ease-in-out infinite;
      animation-delay: 2s;
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(5deg); }
    }
    
    @keyframes pulse-neon {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
    
    .pulse-neon {
      animation: pulse-neon 2s ease-in-out infinite;
    }
    
    .gradient-border {
      background: linear-gradient(135deg, rgba(0, 255, 136, 0.3), rgba(0, 212, 255, 0.3), rgba(139, 92, 246, 0.3));
      padding: 1px;
      border-radius: 1rem;
    }
    
    .gradient-border-inner {
      background: rgba(10, 14, 39, 0.9);
      border-radius: calc(1rem - 1px);
    }
    
    .scrollbar-hide::-webkit-scrollbar { display: none; }
    .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
    
    .page { display: none; }
    .page.active { display: block; }
    
    .light-mode {
      --bg-primary: rgba(255, 255, 255, 0.9);
      --text-primary: #0a0e27;
      --glass-bg: rgba(255, 255, 255, 0.8);
    }
    
    .light-mode .glass {
      background: rgba(255, 255, 255, 0.8);
      border-color: rgba(0, 255, 136, 0.4);
    }
    
    .light-mode .text-white { color: #0a0e27; }
    .light-mode .text-gray-300, .light-mode .text-gray-400 { color: #4a5568; }
    
    .menu-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.8);
      z-index: 40;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }
    
    .menu-overlay.active {
      opacity: 1;
      visibility: visible;
    }
    
    .mobile-menu {
      position: fixed;
      top: 0;
      left: -280px;
      width: 280px;
      height: 100%;
      background: rgba(10, 14, 39, 0.98);
      backdrop-filter: blur(20px);
      z-index: 50;
      transition: all 0.3s ease;
      border-right: 1px solid rgba(0, 255, 136, 0.3);
    }
    
    .mobile-menu.active {
      left: 0;
    }
    
    input, textarea, select {
      background: rgba(20, 25, 55, 0.8) !important;
      border: 1px solid rgba(0, 255, 136, 0.3);
      color: white;
    }
    
    input:focus, textarea:focus, select:focus {
      outline: none;
      border-color: rgba(0, 255, 136, 0.8);
      box-shadow: 0 0 15px rgba(0, 255, 136, 0.3);
    }
    
    .toast {
      position: fixed;
      bottom: 20px;
      right: 20px;
      padding: 1rem 1.5rem;
      border-radius: 0.5rem;
      z-index: 100;
      transform: translateX(400px);
      transition: transform 0.3s ease;
    }
    
    .toast.show {
      transform: translateX(0);
    }
    
    .toast-success { background: linear-gradient(135deg, #00ff88, #00cc6a); color: #0a0e27; }
    .toast-error { background: linear-gradient(135deg, #ff4757, #ff6b81); color: white; }
    .toast-info { background: linear-gradient(135deg, #00d4ff, #0099cc); color: #0a0e27; }
  </style>
  <style>body { box-sizing: border-box; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full bg-navy font-exo text-white overflow-x-hidden"><!-- Video Background -->
  <video class="video-bg" autoplay muted loop playsinline><source src="video.mp4" type="video/mp4">
  </video><!-- Toast Notification -->
  <div id="toast" class="toast"><span id="toastMessage"></span>
  </div><!-- Mobile Menu Overlay -->
  <div id="menuOverlay" class="menu-overlay" onclick="toggleMobileMenu()"></div><!-- Mobile Menu -->
  <div id="mobileMenu" class="mobile-menu">
   <div class="p-6">
    <div class="flex items-center justify-between mb-8">
     <h2 class="font-orbitron text-xl text-neon neon-text">AI Runner</h2><button onclick="toggleMobileMenu()" class="text-gray-400 hover:text-neon">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
      </svg></button>
    </div>
    <nav class="space-y-4" id="mobileMenuNav"><!-- Dynamic menu items -->
    </nav>
   </div>
  </div><!-- Main App Container -->
  <div id="app" class="h-full overflow-auto scrollbar-hide"><!-- ==================== LANDING PAGE ==================== -->
   <div id="landingPage" class="page active"><!-- Header -->
    <header class="glass sticky top-0 z-30">
     <div class="max-w-7xl mx-auto px-4 py-4">
      <div class="flex items-center justify-between"><!-- Logo -->
       <div class="flex items-center gap-2">
        <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-neon to-electric flex items-center justify-center neon-glow">
         <svg class="w-6 h-6 text-navy" fill="currentColor" viewbox="0 0 24 24"><path d="M13 10V3L4 14h7v7l9-11h-7z" />
         </svg>
        </div><span class="font-orbitron text-xl font-bold text-neon neon-text">AI Runner</span>
       </div><!-- Desktop Nav -->
       <nav class="hidden md:flex items-center gap-6"><a href="#" onclick="scrollToSection('hero')" class="text-gray-300 hover:text-neon transition-colors">Home</a> <a href="#" onclick="scrollToSection('howItWorks')" class="text-gray-300 hover:text-neon transition-colors">How It Works</a> <a href="#" onclick="showPage('pricingPage')" class="text-gray-300 hover:text-neon transition-colors">Pricing</a> <a href="#" onclick="showPage('faqPage')" class="text-gray-300 hover:text-neon transition-colors">FAQ</a> <a href="#" onclick="showPage('contactPage')" class="text-gray-300 hover:text-neon transition-colors">Contact</a>
       </nav><!-- CTA & Menu -->
       <div class="flex items-center gap-3"><button onclick="showPage('authPage')" class="hidden sm:block px-4 py-2 text-sm border border-neon/50 rounded-lg text-neon hover:bg-neon/10 transition-colors"> Login </button> <button onclick="showPage('authPage'); setAuthMode('register')" class="btn-neon px-4 py-2 text-sm rounded-lg font-semibold text-navy"> Start Running </button> <button onclick="toggleMobileMenu()" class="md:hidden text-gray-400 hover:text-neon">
         <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
         </svg></button>
       </div>
      </div>
     </div>
    </header><!-- Hero Section -->
    <section id="hero" class="min-h-screen flex items-center relative overflow-hidden"><!-- Floating Shapes -->
     <div class="absolute top-20 left-10 w-20 h-20 border-2 border-neon/30 rounded-full floating opacity-50"></div>
     <div class="absolute top-40 right-20 w-16 h-16 border-2 border-electric/30 rotate-45 floating-delayed opacity-50"></div>
     <div class="absolute bottom-40 left-1/4 w-12 h-12 border-2 border-purple/30 rounded-lg floating opacity-50"></div>
     <div class="max-w-7xl mx-auto px-4 py-20 text-center relative z-10">
      <div class="inline-block px-4 py-2 glass-light rounded-full mb-6"><span class="text-neon text-sm font-medium">üöÄ AI-Powered Task Platform</span>
      </div>
      <h1 id="heroHeadline" class="font-orbitron text-4xl md:text-6xl lg:text-7xl font-bold mb-6 leading-tight"><span class="text-white">Run AI Tasks.</span><br><span class="bg-gradient-to-r from-neon via-electric to-purple bg-clip-text text-transparent">Earn Real Rewards.</span></h1>
      <p id="heroSubtext" class="text-gray-300 text-lg md:text-xl max-w-2xl mx-auto mb-10">Complete AI-generated tasks, get scored instantly, and earn from your device. No experience required.</p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center"><button onclick="showPage('authPage'); setAuthMode('register')" class="btn-neon px-8 py-4 rounded-xl font-orbitron font-semibold text-navy text-lg"> Start Tasks </button> <button onclick="showPage('pricingPage')" class="btn-purple px-8 py-4 rounded-xl font-orbitron font-semibold text-white text-lg"> Upgrade to Pro </button>
      </div><!-- Stats -->
      <div class="grid grid-cols-3 gap-4 mt-16 max-w-xl mx-auto">
       <div class="glass rounded-xl p-4">
        <div class="font-orbitron text-2xl text-neon neon-text">
         10K+
        </div>
        <div class="text-gray-400 text-sm">
         Active Runners
        </div>
       </div>
       <div class="glass rounded-xl p-4">
        <div class="font-orbitron text-2xl text-electric">
         $50K+
        </div>
        <div class="text-gray-400 text-sm">
         Paid Out
        </div>
       </div>
       <div class="glass rounded-xl p-4">
        <div class="font-orbitron text-2xl text-purple">
         100K+
        </div>
        <div class="text-gray-400 text-sm">
         Tasks Done
        </div>
       </div>
      </div>
     </div>
    </section><!-- How It Works -->
    <section id="howItWorks" class="py-20">
     <div class="max-w-7xl mx-auto px-4">
      <div class="text-center mb-16">
       <h2 class="font-orbitron text-3xl md:text-4xl font-bold mb-4">How It <span class="text-neon neon-text">Works</span></h2>
       <p class="text-gray-400 max-w-xl mx-auto">Get started in three simple steps</p>
      </div>
      <div class="grid md:grid-cols-3 gap-8"><!-- Step 1 -->
       <div class="glass rounded-2xl p-8 card-hover text-center">
        <div class="w-16 h-16 mx-auto mb-6 rounded-full bg-gradient-to-br from-neon/20 to-neon/5 flex items-center justify-center border border-neon/30"><span class="font-orbitron text-2xl text-neon">1</span>
        </div>
        <h3 class="font-orbitron text-xl mb-4 text-white">AI Generates Task</h3>
        <p class="text-gray-400">Our AI creates unique tasks tailored to your skill level and preferences.</p>
       </div><!-- Step 2 -->
       <div class="glass rounded-2xl p-8 card-hover text-center">
        <div class="w-16 h-16 mx-auto mb-6 rounded-full bg-gradient-to-br from-electric/20 to-electric/5 flex items-center justify-center border border-electric/30"><span class="font-orbitron text-2xl text-electric">2</span>
        </div>
        <h3 class="font-orbitron text-xl mb-4 text-white">You Complete It</h3>
        <p class="text-gray-400">Work on the task at your own pace within the time limit provided.</p>
       </div><!-- Step 3 -->
       <div class="glass rounded-2xl p-8 card-hover text-center">
        <div class="w-16 h-16 mx-auto mb-6 rounded-full bg-gradient-to-br from-purple/20 to-purple/5 flex items-center justify-center border border-purple/30"><span class="font-orbitron text-2xl text-purple">3</span>
        </div>
        <h3 class="font-orbitron text-xl mb-4 text-white">AI Scores &amp; Rewards</h3>
        <p class="text-gray-400">Get instant AI scoring and earn rewards based on your performance.</p>
       </div>
      </div>
     </div>
    </section><!-- Task Types -->
    <section id="taskTypes" class="py-20">
     <div class="max-w-7xl mx-auto px-4">
      <div class="text-center mb-16">
       <h2 class="font-orbitron text-3xl md:text-4xl font-bold mb-4">Task <span class="text-electric">Categories</span></h2>
       <p class="text-gray-400 max-w-xl mx-auto">Choose from various AI-powered task types</p>
      </div>
      <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
       <div class="glass rounded-2xl p-6 card-hover group cursor-pointer" onclick="showPage('authPage')">
        <div class="w-12 h-12 mb-4 rounded-lg bg-neon/10 flex items-center justify-center group-hover:neon-glow transition-all">
         <svg class="w-6 h-6 text-neon" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
         </svg>
        </div>
        <h3 class="font-orbitron text-lg mb-2">AI Chat Missions</h3>
        <p class="text-gray-400 text-sm">Engage in AI conversations and complete dialogue tasks.</p>
        <div class="mt-4 text-neon text-sm font-medium">
         $0.10 - $0.80 per task ‚Üí
        </div>
       </div>
       <div class="glass rounded-2xl p-6 card-hover group cursor-pointer" onclick="showPage('authPage')">
        <div class="w-12 h-12 mb-4 rounded-lg bg-electric/10 flex items-center justify-center group-hover:electric-glow transition-all">
         <svg class="w-6 h-6 text-electric" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
         </svg>
        </div>
        <h3 class="font-orbitron text-lg mb-2">Rewrite &amp; Improve</h3>
        <p class="text-gray-400 text-sm">Enhance and rewrite text for better clarity and impact.</p>
        <div class="mt-4 text-electric text-sm font-medium">
         $0.15 - $1.00 per task ‚Üí
        </div>
       </div>
       <div class="glass rounded-2xl p-6 card-hover group cursor-pointer" onclick="showPage('authPage')">
        <div class="w-12 h-12 mb-4 rounded-lg bg-purple/10 flex items-center justify-center group-hover:purple-glow transition-all">
         <svg class="w-6 h-6 text-purple" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129" />
         </svg>
        </div>
        <h3 class="font-orbitron text-lg mb-2">Translation</h3>
        <p class="text-gray-400 text-sm">Translate content between EN ‚Üî SW / Sheng languages.</p>
        <div class="mt-4 text-purple text-sm font-medium">
         $0.20 - $1.00 per task ‚Üí
        </div>
       </div>
       <div class="glass rounded-2xl p-6 card-hover group cursor-pointer" onclick="showPage('authPage')">
        <div class="w-12 h-12 mb-4 rounded-lg bg-pink-500/10 flex items-center justify-center group-hover:shadow-[0_0_20px_rgba(236,72,153,0.5)] transition-all">
         <svg class="w-6 h-6 text-pink-500" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
         </svg>
        </div>
        <h3 class="font-orbitron text-lg mb-2">Prompt Challenges</h3>
        <p class="text-gray-400 text-sm">Create effective prompts for various AI scenarios.</p>
        <div class="mt-4 text-pink-500 text-sm font-medium">
         $0.10 - $0.60 per task ‚Üí
        </div>
       </div>
       <div class="glass rounded-2xl p-6 card-hover group cursor-pointer" onclick="showPage('authPage')">
        <div class="w-12 h-12 mb-4 rounded-lg bg-amber-500/10 flex items-center justify-center group-hover:shadow-[0_0_20px_rgba(245,158,11,0.5)] transition-all">
         <svg class="w-6 h-6 text-amber-500" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01" />
         </svg>
        </div>
        <h3 class="font-orbitron text-lg mb-2">Micro Creativity</h3>
        <p class="text-gray-400 text-sm">Short creative writing and brainstorming tasks.</p>
        <div class="mt-4 text-amber-500 text-sm font-medium">
         $0.05 - $0.50 per task ‚Üí
        </div>
       </div>
       <div class="glass rounded-2xl p-6 flex items-center justify-center border-dashed border-2 border-neon/30">
        <div class="text-center">
         <div class="font-orbitron text-neon text-xl mb-2">
          More Coming
         </div>
         <p class="text-gray-400 text-sm">New task types added weekly</p>
        </div>
       </div>
      </div>
     </div>
    </section><!-- Earnings Preview -->
    <section id="earnings" class="py-20">
     <div class="max-w-4xl mx-auto px-4">
      <div class="glass rounded-3xl p-8 md:p-12">
       <div class="text-center mb-10">
        <h2 class="font-orbitron text-3xl md:text-4xl font-bold mb-4"><span class="text-neon neon-text">Earnings</span> Preview</h2>
       </div>
       <div class="grid md:grid-cols-3 gap-6 mb-10">
        <div class="text-center p-6 rounded-2xl bg-gradient-to-br from-neon/10 to-transparent border border-neon/20">
         <div class="font-orbitron text-3xl text-neon mb-2">
          $0.05 - $1
         </div>
         <div class="text-gray-400">
          Per Task Reward
         </div>
        </div>
        <div class="text-center p-6 rounded-2xl bg-gradient-to-br from-electric/10 to-transparent border border-electric/20">
         <div class="font-orbitron text-3xl text-electric mb-2">
          Instant
         </div>
         <div class="text-gray-400">
          AI Scoring
         </div>
        </div>
        <div class="text-center p-6 rounded-2xl bg-gradient-to-br from-purple/10 to-transparent border border-purple/20">
         <div class="font-orbitron text-3xl text-purple mb-2">
          Zero
         </div>
         <div class="text-gray-400">
          Experience Required
         </div>
        </div>
       </div>
       <div class="text-center"><button onclick="showPage('authPage'); setAuthMode('register')" class="btn-neon px-8 py-4 rounded-xl font-orbitron font-semibold text-navy"> Start Earning Now </button>
       </div>
      </div>
     </div>
    </section><!-- Footer -->
    <footer class="glass py-10">
     <div class="max-w-7xl mx-auto px-4">
      <div class="flex flex-col md:flex-row items-center justify-between gap-6">
       <div class="flex items-center gap-2">
        <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-neon to-electric flex items-center justify-center">
         <svg class="w-5 h-5 text-navy" fill="currentColor" viewbox="0 0 24 24"><path d="M13 10V3L4 14h7v7l9-11h-7z" />
         </svg>
        </div><span class="font-orbitron text-lg font-bold text-neon">AI Runner</span>
       </div>
       <div class="flex gap-6 text-sm text-gray-400"><a href="#" onclick="showPage('faqPage')" class="hover:text-neon transition-colors">FAQ</a> <a href="#" onclick="showPage('contactPage')" class="hover:text-neon transition-colors">Contact</a> <a href="#" class="hover:text-neon transition-colors">Terms</a> <a href="#" class="hover:text-neon transition-colors">Privacy</a>
       </div>
       <div class="text-gray-500 text-sm">
        ¬© 2024 AI Runner. All rights reserved.
       </div>
      </div>
     </div>
    </footer>
   </div><!-- ==================== PRICING PAGE ==================== -->
   <div id="pricingPage" class="page">
    <div class="min-h-screen py-10 px-4"><button onclick="showPage('landingPage')" class="flex items-center gap-2 text-gray-400 hover:text-neon mb-8">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
      </svg> Back to Home </button>
     <div class="max-w-4xl mx-auto">
      <div class="text-center mb-12">
       <h1 class="font-orbitron text-4xl font-bold mb-4">Choose Your <span class="text-neon neon-text">Plan</span></h1>
       <p class="text-gray-400">Start free or unlock premium features</p>
      </div>
      <div class="grid md:grid-cols-2 gap-8"><!-- Free Plan -->
       <div class="glass rounded-3xl p-8 card-hover">
        <div class="text-center mb-8">
         <div class="inline-block px-4 py-1 rounded-full bg-gray-700/50 text-gray-300 text-sm mb-4">
          Free Runner
         </div>
         <div class="font-orbitron text-5xl font-bold text-white mb-2">
          $0
         </div>
         <div class="text-gray-400">
          Forever free
         </div>
        </div>
        <ul class="space-y-4 mb-8">
         <li class="flex items-center gap-3">
          <svg class="w-5 h-5 text-neon flex-shrink-0" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
          </svg><span class="text-gray-300">$0.05 ‚Äì $1 per task</span></li>
         <li class="flex items-center gap-3">
          <svg class="w-5 h-5 text-neon flex-shrink-0" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
          </svg><span class="text-gray-300">2 tasks per category daily</span></li>
         <li class="flex items-center gap-3">
          <svg class="w-5 h-5 text-gray-500 flex-shrink-0" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg><span class="text-gray-400">Withdraw only on 27th</span></li>
         <li class="flex items-center gap-3">
          <svg class="w-5 h-5 text-gray-500 flex-shrink-0" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg><span class="text-gray-400">Minimum withdrawal: $20</span></li>
        </ul><button onclick="showPage('authPage')" class="w-full py-4 rounded-xl border-2 border-neon/50 text-neon font-orbitron font-semibold hover:bg-neon/10 transition-colors"> Continue Free </button>
       </div><!-- Pro Plan -->
       <div class="gradient-border">
        <div class="gradient-border-inner rounded-3xl p-8">
         <div class="text-center mb-8">
          <div class="inline-block px-4 py-1 rounded-full bg-gradient-to-r from-neon to-electric text-navy text-sm font-semibold mb-4">
           Pro Runner ‚≠ê
          </div>
          <div class="font-orbitron text-5xl font-bold text-white mb-2">
           $3
          </div>
          <div class="text-gray-400">
           One-time upgrade
          </div>
         </div>
         <ul class="space-y-4 mb-8">
          <li class="flex items-center gap-3">
           <svg class="w-5 h-5 text-neon flex-shrink-0" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
           </svg><span class="text-gray-300">Higher-paying tasks</span></li>
          <li class="flex items-center gap-3">
           <svg class="w-5 h-5 text-neon flex-shrink-0" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
           </svg><span class="text-gray-300">Unlimited daily tasks</span></li>
          <li class="flex items-center gap-3">
           <svg class="w-5 h-5 text-neon flex-shrink-0" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
           </svg><span class="text-gray-300">Withdraw up to 3√ó per month</span></li>
          <li class="flex items-center gap-3">
           <svg class="w-5 h-5 text-neon flex-shrink-0" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
           </svg><span class="text-gray-300">Minimum withdrawal: $5</span></li>
          <li class="flex items-center gap-3">
           <svg class="w-5 h-5 text-neon flex-shrink-0" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
           </svg><span class="text-gray-300">Priority task access</span></li>
         </ul><button onclick="showPage('authPage'); setAuthMode('register')" class="w-full btn-neon py-4 rounded-xl font-orbitron font-semibold text-navy"> Upgrade to Pro </button>
        </div>
       </div>
      </div>
     </div>
    </div>
   </div><!-- ==================== FAQ PAGE ==================== -->
   <div id="faqPage" class="page">
    <div class="min-h-screen py-10 px-4"><button onclick="showPage('landingPage')" class="flex items-center gap-2 text-gray-400 hover:text-neon mb-8">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
      </svg> Back to Home </button>
     <div class="max-w-3xl mx-auto">
      <h1 class="font-orbitron text-4xl font-bold mb-8 text-center"><span class="text-neon neon-text">FAQ</span></h1>
      <div class="space-y-4">
       <div class="glass rounded-xl overflow-hidden"><button class="w-full p-6 text-left flex items-center justify-between" onclick="toggleFaq(this)"> <span class="font-semibold">How do I earn money?</span>
         <svg class="w-5 h-5 text-neon transform transition-transform" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
         </svg></button>
        <div class="px-6 pb-6 hidden">
         <p class="text-gray-400">Complete AI-generated tasks in various categories. Each task is scored by our AI system, and you earn between $0.05 to $1.00 based on your performance score.</p>
        </div>
       </div>
       <div class="glass rounded-xl overflow-hidden"><button class="w-full p-6 text-left flex items-center justify-between" onclick="toggleFaq(this)"> <span class="font-semibold">When can I withdraw my earnings?</span>
         <svg class="w-5 h-5 text-neon transform transition-transform" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
         </svg></button>
        <div class="px-6 pb-6 hidden">
         <p class="text-gray-400">Free users can withdraw once per month on the 27th with a minimum of $20. Pro users can withdraw up to 3 times per month with a minimum of $5.</p>
        </div>
       </div>
       <div class="glass rounded-xl overflow-hidden"><button class="w-full p-6 text-left flex items-center justify-between" onclick="toggleFaq(this)"> <span class="font-semibold">What is the Pro membership?</span>
         <svg class="w-5 h-5 text-neon transform transition-transform" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
         </svg></button>
        <div class="px-6 pb-6 hidden">
         <p class="text-gray-400">Pro membership costs $3 one-time and unlocks higher-paying tasks, unlimited daily tasks, more frequent withdrawals, and lower minimum withdrawal amounts.</p>
        </div>
       </div>
       <div class="glass rounded-xl overflow-hidden"><button class="w-full p-6 text-left flex items-center justify-between" onclick="toggleFaq(this)"> <span class="font-semibold">How does AI scoring work?</span>
         <svg class="w-5 h-5 text-neon transform transition-transform" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
         </svg></button>
        <div class="px-6 pb-6 hidden">
         <p class="text-gray-400">Our AI evaluates your submission based on quality, relevance, and originality. Scores range from 0-100. Higher scores (90-100) earn $1.00, while lower scores earn proportionally less.</p>
        </div>
       </div>
       <div class="glass rounded-xl overflow-hidden"><button class="w-full p-6 text-left flex items-center justify-between" onclick="toggleFaq(this)"> <span class="font-semibold">What are the daily task limits?</span>
         <svg class="w-5 h-5 text-neon transform transition-transform" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
         </svg></button>
        <div class="px-6 pb-6 hidden">
         <p class="text-gray-400">Free users can complete 2 tasks per category daily (10 total across 5 categories). Pro users have unlimited task access.</p>
        </div>
       </div>
      </div>
     </div>
    </div>
   </div><!-- ==================== CONTACT PAGE ==================== -->
   <div id="contactPage" class="page">
    <div class="min-h-screen py-10 px-4"><button onclick="showPage('landingPage')" class="flex items-center gap-2 text-gray-400 hover:text-neon mb-8">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
      </svg> Back to Home </button>
     <div class="max-w-2xl mx-auto">
      <h1 class="font-orbitron text-4xl font-bold mb-8 text-center"><span class="text-neon neon-text">Contact Us</span></h1>
      <div class="glass rounded-3xl p-8">
       <form id="contactForm" onsubmit="handleContactSubmit(event)">
        <div class="space-y-6">
         <div><label for="contactName" class="block text-sm font-medium text-gray-300 mb-2">Name</label> <input type="text" id="contactName" name="name" required class="w-full px-4 py-3 rounded-xl" placeholder="Your name">
         </div>
         <div><label for="contactEmail" class="block text-sm font-medium text-gray-300 mb-2">Email</label> <input type="email" id="contactEmail" name="email" required class="w-full px-4 py-3 rounded-xl" placeholder="your@email.com">
         </div>
         <div><label for="contactSubject" class="block text-sm font-medium text-gray-300 mb-2">Subject</label> <input type="text" id="contactSubject" name="subject" required class="w-full px-4 py-3 rounded-xl" placeholder="How can we help?">
         </div>
         <div><label for="contactMessage" class="block text-sm font-medium text-gray-300 mb-2">Message</label> <textarea id="contactMessage" name="message" rows="5" required class="w-full px-4 py-3 rounded-xl resize-none" placeholder="Your message..."></textarea>
         </div><button type="submit" class="w-full btn-neon py-4 rounded-xl font-orbitron font-semibold text-navy"> Send Message </button>
        </div>
       </form>
      </div>
     </div>
    </div>
   </div><!-- ==================== AUTH PAGE ==================== -->
   <div id="authPage" class="page">
    <div class="min-h-screen flex items-center justify-center py-10 px-4">
     <div class="w-full max-w-md"><button onclick="showPage('landingPage')" class="flex items-center gap-2 text-gray-400 hover:text-neon mb-8">
       <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
       </svg> Back to Home </button>
      <div class="glass rounded-3xl p-8"><!-- Auth Tabs -->
       <div class="flex mb-8 bg-navy-light/50 rounded-xl p-1"><button id="loginTab" onclick="setAuthMode('login')" class="flex-1 py-3 rounded-lg font-orbitron text-sm font-semibold transition-all">Login</button> <button id="registerTab" onclick="setAuthMode('register')" class="flex-1 py-3 rounded-lg font-orbitron text-sm font-semibold transition-all">Register</button>
       </div><!-- Login Form -->
       <form id="loginForm" onsubmit="handleLogin(event)" class="space-y-6">
        <div><label for="loginEmail" class="block text-sm font-medium text-gray-300 mb-2">Email</label> <input type="email" id="loginEmail" required class="w-full px-4 py-3 rounded-xl" placeholder="your@email.com">
        </div>
        <div><label for="loginPassword" class="block text-sm font-medium text-gray-300 mb-2">Password</label> <input type="password" id="loginPassword" required class="w-full px-4 py-3 rounded-xl" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
        </div><button type="submit" class="w-full btn-neon py-4 rounded-xl font-orbitron font-semibold text-navy"> Login </button>
        <p class="text-center text-gray-400 text-sm">Don't have an account? <button type="button" onclick="setAuthMode('register')" class="text-neon hover:underline">Register first</button></p>
       </form><!-- Register Form -->
       <form id="registerForm" onsubmit="handleRegister(event)" class="space-y-6 hidden">
        <div><label for="registerUsername" class="block text-sm font-medium text-gray-300 mb-2">Username</label> <input type="text" id="registerUsername" required class="w-full px-4 py-3 rounded-xl" placeholder="Choose a username">
        </div>
        <div><label for="registerEmail" class="block text-sm font-medium text-gray-300 mb-2">Email</label> <input type="email" id="registerEmail" required class="w-full px-4 py-3 rounded-xl" placeholder="your@email.com">
        </div>
        <div><label for="registerPassword" class="block text-sm font-medium text-gray-300 mb-2">Password</label> <input type="password" id="registerPassword" required minlength="6" class="w-full px-4 py-3 rounded-xl" placeholder="Min 6 characters">
        </div>
        <div><label for="registerPhone" class="block text-sm font-medium text-gray-300 mb-2">Phone (optional)</label> <input type="tel" id="registerPhone" class="w-full px-4 py-3 rounded-xl" placeholder="+254...">
        </div><button type="submit" class="w-full btn-neon py-4 rounded-xl font-orbitron font-semibold text-navy"> Create Account </button>
        <p class="text-center text-gray-400 text-sm">Already have an account? <button type="button" onclick="setAuthMode('login')" class="text-neon hover:underline">Login</button></p>
       </form><!-- Guest Mode Notice -->
       <div class="mt-6 pt-6 border-t border-gray-700"><button onclick="enterGuestMode()" class="w-full py-3 rounded-xl border border-gray-600 text-gray-400 hover:border-neon/50 hover:text-neon transition-colors text-sm"> Continue as Guest (Limited Access) </button>
       </div>
      </div>
     </div>
    </div>
   </div><!-- ==================== DASHBOARD ==================== -->
   <div id="dashboardPage" class="page"><!-- Dashboard Header -->
    <header class="glass sticky top-0 z-30">
     <div class="px-4 py-4 flex items-center justify-between"><button onclick="toggleMobileMenu()" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
       <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
       </svg></button>
      <div class="flex items-center gap-2">
       <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-neon to-electric flex items-center justify-center">
        <svg class="w-5 h-5 text-navy" fill="currentColor" viewbox="0 0 24 24"><path d="M13 10V3L4 14h7v7l9-11h-7z" />
        </svg>
       </div><span class="font-orbitron text-lg font-bold text-neon">AI Runner</span>
      </div>
      <div id="userBalance" class="flex items-center gap-2 px-3 py-1.5 rounded-full bg-neon/10 border border-neon/30"><span class="text-neon font-orbitron font-semibold">$0.00</span>
      </div>
     </div>
    </header><!-- Dashboard Content -->
    <div class="p-4 space-y-6 pb-24"><!-- Welcome Banner -->
     <div class="glass rounded-2xl p-6">
      <div class="flex items-center gap-4 mb-4">
       <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-neon to-electric flex items-center justify-center text-2xl">
        üëã
       </div>
       <div>
        <h1 class="font-orbitron text-xl font-bold">Welcome back, <span id="dashUsername">Runner</span>!</h1>
        <p class="text-gray-400 text-sm" id="membershipBadge">Free Runner</p>
       </div>
      </div>
      <div id="proUpgradeBanner" class="p-4 rounded-xl bg-gradient-to-r from-purple/20 to-electric/20 border border-purple/30">
       <p class="text-sm text-gray-300 mb-2">üöÄ Upgrade to Pro for unlimited tasks!</p><button onclick="showPage('subscriptionPage')" class="btn-purple px-4 py-2 rounded-lg text-sm font-semibold">Upgrade Now - $3</button>
      </div>
     </div><!-- Stats Grid -->
     <div class="grid grid-cols-2 gap-4">
      <div class="glass rounded-xl p-4">
       <div class="text-gray-400 text-sm mb-1">
        Balance
       </div>
       <div class="font-orbitron text-2xl text-neon" id="dashBalance">
        $0.00
       </div>
      </div>
      <div class="glass rounded-xl p-4">
       <div class="text-gray-400 text-sm mb-1">
        Tasks Done
       </div>
       <div class="font-orbitron text-2xl text-electric" id="dashTasksCompleted">
        0
       </div>
      </div>
      <div class="glass rounded-xl p-4">
       <div class="text-gray-400 text-sm mb-1">
        Next Withdraw
       </div>
       <div class="font-orbitron text-lg text-purple" id="dashNextWithdraw">
        27th
       </div>
      </div>
      <div class="glass rounded-xl p-4">
       <div class="text-gray-400 text-sm mb-1">
        Membership
       </div>
       <div class="font-orbitron text-lg" id="dashMembership">
        Free
       </div>
      </div>
     </div><!-- Quick Actions -->
     <div class="space-y-3">
      <h2 class="font-orbitron text-lg font-semibold">Quick Actions</h2><button onclick="showPage('tasksPage')" class="w-full glass rounded-xl p-4 flex items-center gap-4 card-hover">
       <div class="w-12 h-12 rounded-xl bg-neon/10 flex items-center justify-center">
        <svg class="w-6 h-6 text-neon" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
        </svg>
       </div>
       <div class="text-left flex-1">
        <div class="font-semibold">
         Start New Task
        </div>
        <div class="text-gray-400 text-sm">
         Earn $0.05 - $1.00
        </div>
       </div>
       <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
       </svg></button> <button onclick="showPage('withdrawPage')" class="w-full glass rounded-xl p-4 flex items-center gap-4 card-hover">
       <div class="w-12 h-12 rounded-xl bg-electric/10 flex items-center justify-center">
        <svg class="w-6 h-6 text-electric" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
       </div>
       <div class="text-left flex-1">
        <div class="font-semibold">
         Withdraw Earnings
        </div>
        <div class="text-gray-400 text-sm">
         Cash out your balance
        </div>
       </div>
       <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
       </svg></button> <button onclick="showPage('subscriptionPage')" class="w-full glass rounded-xl p-4 flex items-center gap-4 card-hover">
       <div class="w-12 h-12 rounded-xl bg-purple/10 flex items-center justify-center">
        <svg class="w-6 h-6 text-purple" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" />
        </svg>
       </div>
       <div class="text-left flex-1">
        <div class="font-semibold">
         Upgrade Membership
        </div>
        <div class="text-gray-400 text-sm">
         Unlock Pro features
        </div>
       </div>
       <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
       </svg></button>
     </div><!-- Recent Transactions -->
     <div class="space-y-3">
      <h2 class="font-orbitron text-lg font-semibold">Recent Transactions</h2>
      <div id="recentActivity" class="space-y-2">
       <div class="glass rounded-xl p-4 text-center text-gray-400">
        <p>No recent transactions</p>
        <p class="text-sm mt-1">Complete tasks or withdraw to see activity</p>
       </div>
      </div>
     </div>
    </div>
   </div><!-- ==================== TASKS PAGE ==================== -->
   <div id="tasksPage" class="page">
    <header class="glass sticky top-0 z-30">
     <div class="px-4 py-4 flex items-center gap-4"><button onclick="showPage('dashboardPage')" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
       <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
       </svg></button>
      <h1 class="font-orbitron text-lg font-bold">Task Categories</h1>
     </div>
    </header>
    <div class="p-4 space-y-4 pb-24" id="taskCategories"><!-- AI Chat Missions -->
     <div class="glass rounded-xl p-5 card-hover cursor-pointer" onclick="startTaskCategory('chat')">
      <div class="flex items-center gap-4">
       <div class="w-14 h-14 rounded-xl bg-neon/10 flex items-center justify-center neon-glow">
        <svg class="w-7 h-7 text-neon" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
        </svg>
       </div>
       <div class="flex-1">
        <h3 class="font-orbitron text-lg font-semibold">AI Chat Missions</h3>
        <p class="text-gray-400 text-sm">Engage in AI conversations</p>
        <div class="flex items-center gap-2 mt-2"><span class="px-2 py-0.5 rounded-full bg-neon/20 text-neon text-xs" id="chatTasksRemaining">2/2 today</span> <span class="text-gray-500 text-xs">$0.10 - $0.80</span>
        </div>
       </div>
       <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
       </svg>
      </div>
     </div><!-- Rewrite & Improve -->
     <div class="glass rounded-xl p-5 card-hover cursor-pointer" onclick="startTaskCategory('rewrite')">
      <div class="flex items-center gap-4">
       <div class="w-14 h-14 rounded-xl bg-electric/10 flex items-center justify-center electric-glow">
        <svg class="w-7 h-7 text-electric" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
        </svg>
       </div>
       <div class="flex-1">
        <h3 class="font-orbitron text-lg font-semibold">Rewrite &amp; Improve</h3>
        <p class="text-gray-400 text-sm">Enhance text quality</p>
        <div class="flex items-center gap-2 mt-2"><span class="px-2 py-0.5 rounded-full bg-electric/20 text-electric text-xs" id="rewriteTasksRemaining">2/2 today</span> <span class="text-gray-500 text-xs">$0.15 - $1.00</span>
        </div>
       </div>
       <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
       </svg>
      </div>
     </div><!-- Translation -->
     <div class="glass rounded-xl p-5 card-hover cursor-pointer" onclick="startTaskCategory('translation')">
      <div class="flex items-center gap-4">
       <div class="w-14 h-14 rounded-xl bg-purple/10 flex items-center justify-center purple-glow">
        <svg class="w-7 h-7 text-purple" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129" />
        </svg>
       </div>
       <div class="flex-1">
        <h3 class="font-orbitron text-lg font-semibold">Translation</h3>
        <p class="text-gray-400 text-sm">EN ‚Üî SW / Sheng</p>
        <div class="flex items-center gap-2 mt-2"><span class="px-2 py-0.5 rounded-full bg-purple/20 text-purple text-xs" id="translationTasksRemaining">2/2 today</span> <span class="text-gray-500 text-xs">$0.20 - $1.00</span>
        </div>
       </div>
       <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
       </svg>
      </div>
     </div><!-- Prompt Challenges -->
     <div class="glass rounded-xl p-5 card-hover cursor-pointer" onclick="startTaskCategory('prompt')">
      <div class="flex items-center gap-4">
       <div class="w-14 h-14 rounded-xl bg-pink-500/10 flex items-center justify-center shadow-[0_0_20px_rgba(236,72,153,0.3)]">
        <svg class="w-7 h-7 text-pink-500" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
        </svg>
       </div>
       <div class="flex-1">
        <h3 class="font-orbitron text-lg font-semibold">Prompt Challenges</h3>
        <p class="text-gray-400 text-sm">Create effective prompts</p>
        <div class="flex items-center gap-2 mt-2"><span class="px-2 py-0.5 rounded-full bg-pink-500/20 text-pink-500 text-xs" id="promptTasksRemaining">2/2 today</span> <span class="text-gray-500 text-xs">$0.10 - $0.60</span>
        </div>
       </div>
       <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
       </svg>
      </div>
     </div><!-- Micro Creativity -->
     <div class="glass rounded-xl p-5 card-hover cursor-pointer" onclick="startTaskCategory('creativity')">
      <div class="flex items-center gap-4">
       <div class="w-14 h-14 rounded-xl bg-amber-500/10 flex items-center justify-center shadow-[0_0_20px_rgba(245,158,11,0.3)]">
        <svg class="w-7 h-7 text-amber-500" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01" />
        </svg>
       </div>
       <div class="flex-1">
        <h3 class="font-orbitron text-lg font-semibold">Micro Creativity</h3>
        <p class="text-gray-400 text-sm">Short creative writing</p>
        <div class="flex items-center gap-2 mt-2"><span class="px-2 py-0.5 rounded-full bg-amber-500/20 text-amber-500 text-xs" id="creativityTasksRemaining">2/2 today</span> <span class="text-gray-500 text-xs">$0.05 - $0.50</span>
        </div>
       </div>
       <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
       </svg>
      </div>
     </div>
    </div>
   </div><!-- ==================== ACTIVE TASK PAGE ==================== -->
   <div id="activeTaskPage" class="page">
    <header class="glass sticky top-0 z-30">
     <div class="px-4 py-4 flex items-center justify-between"><button onclick="cancelTask()" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
       <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
       </svg></button>
      <div class="flex items-center gap-2">
       <svg class="w-5 h-5 text-red-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
       </svg><span id="taskTimer" class="font-orbitron text-lg text-red-400">5:00</span>
      </div>
      <div class="w-10"></div>
     </div>
    </header>
    <div class="p-4 space-y-4 pb-24">
     <div class="glass rounded-2xl p-6">
      <div class="flex items-center gap-3 mb-4">
       <div id="taskCategoryIcon" class="w-10 h-10 rounded-lg bg-neon/10 flex items-center justify-center">
        <svg class="w-5 h-5 text-neon" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
        </svg>
       </div>
       <div>
        <h2 id="taskCategoryName" class="font-orbitron text-lg font-semibold">Task Category</h2>
        <p id="taskRewardRange" class="text-gray-400 text-sm">$0.10 - $0.80</p>
       </div>
      </div>
      <div class="p-4 rounded-xl bg-navy-light/50 border border-neon/20 mb-4">
       <h3 class="font-semibold mb-2 text-neon">üìã Task Instructions</h3>
       <p id="taskInstructions" class="text-gray-300">Loading task...</p>
      </div>
      <div class="flex items-center gap-4 text-sm text-gray-400"><span>Word limit: <span id="taskWordLimit" class="text-white">100-200</span></span> <span>‚Ä¢</span> <span>Time: <span class="text-white">5 minutes</span></span>
      </div>
     </div>
     <div class="glass rounded-2xl p-6"><label for="taskResponse" class="block font-semibold mb-3">Your Response</label> <textarea id="taskResponse" rows="8" class="w-full px-4 py-3 rounded-xl resize-none" placeholder="Type your response here..."></textarea>
      <div class="flex items-center justify-between mt-3 text-sm"><span class="text-gray-400">Word count: <span id="wordCount" class="text-white">0</span></span> <span id="wordStatus" class="text-gray-400"></span>
      </div>
     </div><button onclick="submitTask()" id="submitTaskBtn" class="w-full btn-neon py-4 rounded-xl font-orbitron font-semibold text-navy disabled:opacity-50 disabled:cursor-not-allowed"> Submit Task </button>
    </div>
   </div><!-- ==================== TASK RESULT PAGE ==================== -->
   <div id="taskResultPage" class="page">
    <div class="min-h-screen flex items-center justify-center p-4">
     <div class="glass rounded-3xl p-8 max-w-md w-full text-center">
      <div id="resultIcon" class="w-24 h-24 mx-auto mb-6 rounded-full bg-neon/20 flex items-center justify-center neon-glow">
       <svg class="w-12 h-12 text-neon" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
       </svg>
      </div>
      <h1 class="font-orbitron text-2xl font-bold mb-2">Task Complete!</h1>
      <p class="text-gray-400 mb-6">AI has scored your submission</p>
      <div class="p-6 rounded-2xl bg-navy-light/50 mb-6">
       <div class="text-gray-400 text-sm mb-1">
        Your Score
       </div>
       <div id="taskScore" class="font-orbitron text-5xl text-neon neon-text mb-4">
        85
       </div>
       <div class="text-gray-400 text-sm mb-1">
        Reward Earned
       </div>
       <div id="taskReward" class="font-orbitron text-3xl text-electric">
        $0.60
       </div>
      </div>
      <div id="taskFeedback" class="p-4 rounded-xl bg-amber-500/10 border border-amber-500/30 mb-6 text-left hidden">
       <p id="feedbackText" class="text-sm text-amber-100"></p>
      </div>
      <div class="space-y-3"><button onclick="showPage('tasksPage')" class="w-full btn-neon py-4 rounded-xl font-orbitron font-semibold text-navy"> Do Another Task </button> <button onclick="showPage('dashboardPage')" class="w-full py-4 rounded-xl border border-gray-600 text-gray-300 hover:border-neon/50 hover:text-neon transition-colors"> Back to Dashboard </button>
      </div>
     </div>
    </div>
   </div><!-- ==================== WITHDRAW PAGE ==================== -->
   <div id="withdrawPage" class="page">
    <header class="glass sticky top-0 z-30">
     <div class="px-4 py-4 flex items-center gap-4"><button onclick="showPage('dashboardPage')" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
       <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
       </svg></button>
      <h1 class="font-orbitron text-lg font-bold">Withdraw Earnings</h1>
     </div>
    </header>
    <div class="p-4 space-y-6 pb-24"><!-- Balance Card -->
     <div class="glass rounded-2xl p-6 text-center">
      <div class="text-gray-400 text-sm mb-2">
       Available Balance
      </div>
      <div id="withdrawBalance" class="font-orbitron text-4xl text-neon neon-text mb-4">
       $0.00
      </div>
      <div id="withdrawStatus" class="text-sm text-gray-400"><!-- Status message will be inserted here -->
      </div>
     </div><!-- Withdraw Form -->
     <div class="glass rounded-2xl p-6">
      <form id="withdrawForm" onsubmit="handleWithdraw(event)">
       <div class="space-y-4">
        <div><label for="withdrawAmount" class="block text-sm font-medium text-gray-300 mb-2">Amount to Withdraw</label> <input type="number" id="withdrawAmount" step="0.01" min="0" required class="w-full px-4 py-3 rounded-xl" placeholder="0.00">
        </div>
        <div><label for="withdrawMethod" class="block text-sm font-medium text-gray-300 mb-2">Payment Method</label> <select id="withdrawMethod" required class="w-full px-4 py-3 rounded-xl"> <option value="">Select method</option> <option value="mpesa">M-Pesa</option> <option value="paypal">PayPal</option> <option value="bank">Bank Transfer</option> </select>
        </div>
        <div><label for="withdrawDetails" class="block text-sm font-medium text-gray-300 mb-2">Payment Details</label> <input type="text" id="withdrawDetails" required class="w-full px-4 py-3 rounded-xl" placeholder="Phone number or email">
        </div><button type="submit" id="withdrawBtn" class="w-full btn-electric py-4 rounded-xl font-orbitron font-semibold text-navy"> Request Withdrawal </button>
       </div>
      </form>
     </div><!-- Withdraw Info -->
     <div class="glass rounded-2xl p-6">
      <h3 class="font-orbitron text-lg mb-4">Withdrawal Rules</h3>
      <div id="withdrawRules" class="space-y-3 text-sm text-gray-400"><!-- Rules will be inserted based on membership -->
      </div>
     </div>
    </div>
   </div><!-- ==================== SUBSCRIPTION PAGE ==================== -->
   <div id="subscriptionPage" class="page">
    <header class="glass sticky top-0 z-30">
     <div class="px-4 py-4 flex items-center gap-4"><button onclick="showPage('dashboardPage')" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
       <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
       </svg></button>
      <h1 class="font-orbitron text-lg font-bold">Upgrade to Pro</h1>
     </div>
    </header>
    <div class="p-4 space-y-6 pb-24"><!-- Pro Benefits -->
     <div class="gradient-border">
      <div class="gradient-border-inner rounded-3xl p-6">
       <div class="text-center mb-6">
        <div class="inline-block px-4 py-1 rounded-full bg-gradient-to-r from-neon to-electric text-navy text-sm font-semibold mb-4">
         Pro Runner ‚≠ê
        </div>
        <div class="font-orbitron text-5xl font-bold text-white mb-2">
         $3
        </div>
        <div class="text-gray-400">
         One-time upgrade
        </div>
       </div>
       <ul class="space-y-4 mb-6">
        <li class="flex items-center gap-3">
         <svg class="w-5 h-5 text-neon flex-shrink-0" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
         </svg><span class="text-gray-300">Higher-paying tasks</span></li>
        <li class="flex items-center gap-3">
         <svg class="w-5 h-5 text-neon flex-shrink-0" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
         </svg><span class="text-gray-300">Unlimited daily tasks</span></li>
        <li class="flex items-center gap-3">
         <svg class="w-5 h-5 text-neon flex-shrink-0" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
         </svg><span class="text-gray-300">Withdraw up to 3√ó per month</span></li>
        <li class="flex items-center gap-3">
         <svg class="w-5 h-5 text-neon flex-shrink-0" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
         </svg><span class="text-gray-300">Minimum withdrawal: $5</span></li>
        <li class="flex items-center gap-3">
         <svg class="w-5 h-5 text-neon flex-shrink-0" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
         </svg><span class="text-gray-300">Priority task access</span></li>
       </ul><a href="https://payment.intasend.com/pay/159b9e33-b56f-49d4-b57e-de6a7cb38560/" target="_blank" rel="noopener noreferrer" class="block w-full btn-neon py-4 rounded-xl font-orbitron font-semibold text-navy text-center"> Subscribe Now - $3 </a>
      </div>
     </div><!-- Already Paid Section -->
     <div class="glass rounded-2xl p-6">
      <h3 class="font-semibold mb-4 text-center">Already paid but not redirecting?</h3>
      <p class="text-gray-400 text-sm mb-4 text-center">Paste your payment confirmation message below:</p>
      <form onsubmit="verifyPayment(event)"><textarea id="paymentMessage" rows="4" class="w-full px-4 py-3 rounded-xl mb-4 resize-none" placeholder="Paste payment confirmation message here..."></textarea> <button type="submit" class="w-full btn-purple py-3 rounded-xl font-semibold"> Verify Payment </button>
      </form>
     </div><!-- Already Pro -->
     <div id="alreadyProSection" class="glass rounded-2xl p-6 text-center hidden">
      <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-neon/20 flex items-center justify-center neon-glow">
       <svg class="w-8 h-8 text-neon" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
       </svg>
      </div>
      <h3 class="font-orbitron text-xl font-bold text-neon mb-2">You're a Pro Runner!</h3>
      <p class="text-gray-400">Enjoy all premium features</p>
     </div>
    </div>
   </div><!-- ==================== PROFILE PAGE ==================== -->
   <div id="profilePage" class="page">
    <header class="glass sticky top-0 z-30">
     <div class="px-4 py-4 flex items-center gap-4"><button onclick="showPage('dashboardPage')" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
       <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
       </svg></button>
      <h1 class="font-orbitron text-lg font-bold">Profile &amp; Settings</h1>
     </div>
    </header>
    <div class="p-4 space-y-6 pb-24"><!-- Profile Card -->
     <div class="glass rounded-2xl p-6 text-center">
      <div class="w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-neon to-electric flex items-center justify-center text-4xl neon-glow">
       üë§
      </div>
      <h2 id="profileUsername" class="font-orbitron text-xl font-bold mb-1">Username</h2>
      <p id="profileMembership" class="text-gray-400 mb-4">Free Runner</p>
      <div class="flex justify-center gap-4">
       <div class="text-center">
        <div id="profileBalance" class="font-orbitron text-xl text-neon">
         $0.00
        </div>
        <div class="text-gray-400 text-xs">
         Total Earned
        </div>
       </div>
       <div class="text-center">
        <div id="profileTasks" class="font-orbitron text-xl text-electric">
         0
        </div>
        <div class="text-gray-400 text-xs">
         Tasks Done
        </div>
       </div>
      </div>
     </div><!-- Settings -->
     <div class="glass rounded-2xl p-6 space-y-4">
      <h3 class="font-orbitron text-lg font-semibold mb-4">Settings</h3><!-- Language -->
      <div class="flex items-center justify-between p-4 rounded-xl bg-navy-light/50">
       <div class="flex items-center gap-3">
        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129" />
        </svg><span>Language</span>
       </div><select id="languageSelect" onchange="changeLanguage(this.value)" class="px-3 py-2 rounded-lg bg-navy-light border border-neon/30 text-sm"> <option value="en">English</option> <option value="sw">Swahili</option> </select>
      </div><!-- Dark Mode Toggle -->
      <div class="flex items-center justify-between p-4 rounded-xl bg-navy-light/50">
       <div class="flex items-center gap-3">
        <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
        </svg><span>Dark Mode</span>
       </div><button onclick="toggleDarkMode()" id="darkModeToggle" class="w-12 h-6 rounded-full bg-neon/30 relative">
        <div class="w-5 h-5 rounded-full bg-neon absolute top-0.5 left-0.5 transition-transform"></div></button>
      </div>
     </div><!-- Actions -->
     <div class="space-y-3"><button onclick="resetSession()" class="w-full glass rounded-xl p-4 flex items-center gap-4 card-hover text-left">
       <svg class="w-6 h-6 text-amber-500" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
       </svg><span>Reset Session</span> </button> <button onclick="logout()" class="w-full glass rounded-xl p-4 flex items-center gap-4 card-hover text-left border-red-500/30">
       <svg class="w-6 h-6 text-red-500" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
       </svg><span class="text-red-400">Logout</span> </button>
     </div>
    </div>
   </div>
  </div>
  <script>
    // ==================== CONFIG & STATE ====================
    const defaultConfig = {
      hero_headline: 'Run AI Tasks. Earn Real Rewards.',
      hero_subtext: 'Complete AI-generated tasks, get scored instantly, and earn from your device. No experience required.',
      primary_color: '#00ff88',
      secondary_color: '#00d4ff',
      accent_color: '#8b5cf6',
      background_color: '#0a0e27',
      text_color: '#ffffff',
      font_family: 'Exo 2'
    };

    let config = { ...defaultConfig };
    let currentUser = null;
    let currentTask = null;
    let taskTimer = null;
    let taskTimeRemaining = 300;

    // Swahili translation dictionary for strict validation
    const swahiliDictionary = {
      'welcome': 'karibu', 'store': 'duka', 'how': 'vipi', 'can': 'inaweza',
      'help': 'msaada', 'today': 'leo', 'thank': 'asante', 'please': 'tafadhali',
      'order': 'amri', 'received': 'pokelewa', 'purchase': 'ununuzi', 'confirm': 'thibitisha',
      'button': 'kitufe', 'below': 'chini', 'payment': 'malipo', 'thank you': 'asante sana',
      'apologies': 'maombezi', 'inconvenience': 'tabu', 'team': 'timu', 'working': 'inafanya',
      'wait': 'subiri', 'minutes': 'dakika', 'request': 'ombi', 'free': 'bure',
      'delivery': 'utoaji', 'all': 'yote', 'orders': 'amri', 'over': 'zaidi',
      'subscribe': 'jiandikishe', 'newsletter': 'habari', 'exclusive': 'pekee',
      'deals': 'mitumba', 'contact': 'wasiliana', 'support': 'usaidizi', 'assistance': 'msaada',
      'go': 'kwenda', 'meet': 'kukutana', 'friends': 'rafiki', 'mall': 'sokoni',
      'evening': 'jioni', 'good': 'nzuri', 'morning': 'asubuhi', 'hello': 'habari',
      'yes': 'ndiyo', 'no': 'hapana', 'money': 'pesa', 'account': 'akaunti',
      'successfully': 'matagano', 'created': 'kutengeneza', 'follow': 'fuata',
      'steps': 'hatua', 'simple': 'rahisi', 'finish': 'maliza', 'registration': 'usajili'
    };

    // Sheng dictionary for validation
    const shengDictionary = {
      'phone': 'simu', 'battery': 'betri', 'died': 'kufa', 'charge': 'kuweka',
      'football': 'mpira', 'match': 'mchezo', 'watch': 'kutazama', 'place': 'mahali',
      'let': 'hebu', 'going': 'kuenda', 'amazing': 'nzuri', 'party': 'sherehe',
      'last': 'ya mwisho', 'night': 'usiku', 'everyone': 'kila mtu', 'fun': 'joyful'
    };

    // Task database with strict validation for translations
    const taskDatabase = {
      chat: [
        { instructions: "Write a friendly greeting message for a customer service chatbot that sells electronics.", wordLimit: "50-100" },
        { instructions: "Create a conversation starter for an AI travel assistant helping users plan vacations.", wordLimit: "50-100" },
        { instructions: "Write a helpful response to: 'How do I reset my password?'", wordLimit: "50-80" },
        { instructions: "Compose an AI response to a customer complaining about slow delivery.", wordLimit: "80-120" },
        { instructions: "Write a chatbot introduction for a fitness coaching app.", wordLimit: "60-100" },
        { instructions: "Create a supportive response for someone asking about mental health resources.", wordLimit: "80-120" },
        { instructions: "Write a product recommendation response for someone looking for a laptop under $500.", wordLimit: "80-120" },
        { instructions: "Compose a friendly AI response explaining how to use a mobile banking app.", wordLimit: "70-100" },
        { instructions: "Write a chatbot response helping someone choose between two phone plans.", wordLimit: "80-120" },
        { instructions: "Create an engaging welcome message for a language learning chatbot.", wordLimit: "60-90" }
      ],
      rewrite: [
        { instructions: "Rewrite this sentence to be more professional: 'Hey, ur order is gonna be late lol sorry bout that.'", wordLimit: "20-40" },
        { instructions: "Improve this product description: 'This phone is good. It has nice camera. Battery lasts long.'", wordLimit: "80-120" },
        { instructions: "Rewrite to be more engaging: 'Our company was founded in 2010. We sell software.'", wordLimit: "60-100" },
        { instructions: "Make this email more polite: 'Send the report now. I need it urgently.'", wordLimit: "40-70" },
        { instructions: "Rewrite for clarity: 'The thing with the stuff needs to be done before the deadline which is soon.'", wordLimit: "30-50" }
      ],
      translation: [
        { instructions: "Translate to Swahili: 'Welcome to our store. How can I help you today?'", wordLimit: "5-15", correctAnswer: "karibu duka lako vipi msaada leo", source: "en", target: "sw" },
        { instructions: "Translate to English: 'Asante sana kwa msaada wako.'", wordLimit: "5-10", correctAnswer: "thank you very much for your help", source: "sw", target: "en" },
        { instructions: "Translate to Swahili: 'Your payment has been received.'", wordLimit: "5-10", correctAnswer: "malipo yako yamepokelewa", source: "en", target: "sw" },
        { instructions: "Translate to English: 'Karibu tena!'", wordLimit: "3-5", correctAnswer: "welcome again", source: "sw", target: "en" },
        { instructions: "Translate to Swahili: 'Please wait a few minutes.'", wordLimit: "5-10", correctAnswer: "tafadhali subiri dakika chache", source: "en", target: "sw" }
      ],
      prompt: [
        { instructions: "Write a prompt that would make an AI generate a creative story about space exploration.", wordLimit: "30-60" },
        { instructions: "Create a prompt for generating professional email templates.", wordLimit: "30-60" },
        { instructions: "Write a prompt to get an AI to explain quantum physics to a 10-year-old.", wordLimit: "30-60" }
      ],
      creativity: [
        { instructions: "Write a catchy slogan for an eco-friendly water bottle brand.", wordLimit: "5-15" },
        { instructions: "Create a short poem (4 lines) about Monday mornings.", wordLimit: "20-40" },
        { instructions: "Write a creative product name for a smart alarm clock.", wordLimit: "3-10" }
      ]
    };

    // ==================== UTILITY FUNCTIONS ====================
    function showToast(message, type = 'info') {
      const toast = document.getElementById('toast');
      const toastMessage = document.getElementById('toastMessage');
      toast.className = `toast toast-${type}`;
      toastMessage.textContent = message;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 3000);
    }

    function showPage(pageId) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      const page = document.getElementById(pageId);
      if (page) {
        page.classList.add('active');
        window.scrollTo(0, 0);
      }
      
      updateMobileMenu();
      closeMobileMenu();
      
      if (pageId === 'dashboardPage') updateDashboard();
      if (pageId === 'withdrawPage') updateWithdrawPage();
      if (pageId === 'subscriptionPage') updateSubscriptionPage();
      if (pageId === 'profilePage') updateProfilePage();
      if (pageId === 'tasksPage') updateTasksPage();
    }

    function scrollToSection(sectionId) {
      const section = document.getElementById(sectionId);
      if (section) {
        section.scrollIntoView({ behavior: 'smooth' });
      }
    }

    function toggleMobileMenu() {
      document.getElementById('mobileMenu').classList.toggle('active');
      document.getElementById('menuOverlay').classList.toggle('active');
    }

    function closeMobileMenu() {
      document.getElementById('mobileMenu').classList.remove('active');
      document.getElementById('menuOverlay').classList.remove('active');
    }

    function updateMobileMenu() {
      const nav = document.getElementById('mobileMenuNav');
      const isLoggedIn = currentUser && currentUser.isLoggedIn;
      
      if (isLoggedIn && !currentUser.isGuest) {
        nav.innerHTML = `
          <a href="#" onclick="showPage('dashboardPage')" class="block py-3 px-4 rounded-lg text-gray-300 hover:text-neon hover:bg-white/5 transition-colors">
            <span class="flex items-center gap-3">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>
              Dashboard
            </span>
          </a>
          <a href="#" onclick="showPage('tasksPage')" class="block py-3 px-4 rounded-lg text-gray-300 hover:text-neon hover:bg-white/5 transition-colors">
            <span class="flex items-center gap-3">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
              Tasks
            </span>
          </a>
          <a href="#" onclick="showPage('withdrawPage')" class="block py-3 px-4 rounded-lg text-gray-300 hover:text-neon hover:bg-white/5 transition-colors">
            <span class="flex items-center gap-3">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
              Withdraw
            </span>
          </a>
          <a href="#" onclick="showPage('subscriptionPage')" class="block py-3 px-4 rounded-lg text-gray-300 hover:text-neon hover:bg-white/5 transition-colors">
            <span class="flex items-center gap-3">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/></svg>
              Upgrade
            </span>
          </a>
          <a href="#" onclick="showPage('profilePage')" class="block py-3 px-4 rounded-lg text-gray-300 hover:text-neon hover:bg-white/5 transition-colors">
            <span class="flex items-center gap-3">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>
              Profile
            </span>
          </a>
          <div class="border-t border-gray-700 my-4"></div>
          <a href="#" onclick="logout()" class="block py-3 px-4 rounded-lg text-red-400 hover:bg-red-500/10 transition-colors">
            <span class="flex items-center gap-3">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/></svg>
              Logout
            </span>
          </a>
        `;
      } else {
        nav.innerHTML = `
          <a href="#" onclick="showPage('landingPage')" class="block py-3 px-4 rounded-lg text-gray-300 hover:text-neon hover:bg-white/5 transition-colors">Home</a>
          <a href="#" onclick="showPage('pricingPage')" class="block py-3 px-4 rounded-lg text-gray-300 hover:text-neon hover:bg-white/5 transition-colors">Pricing</a>
          <a href="#" onclick="showPage('faqPage')" class="block py-3 px-4 rounded-lg text-gray-300 hover:text-neon hover:bg-white/5 transition-colors">FAQ</a>
          <a href="#" onclick="showPage('contactPage')" class="block py-3 px-4 rounded-lg text-gray-300 hover:text-neon hover:bg-white/5 transition-colors">Contact</a>
          <div class="border-t border-gray-700 my-4"></div>
          <a href="#" onclick="showPage('authPage')" class="block py-3 px-4 rounded-lg text-neon hover:bg-neon/10 transition-colors">Login / Register</a>
        `;
      }
    }

    function toggleFaq(btn) {
      const content = btn.nextElementSibling;
      const icon = btn.querySelector('svg');
      content.classList.toggle('hidden');
      icon.style.transform = content.classList.contains('hidden') ? 'rotate(0)' : 'rotate(180deg)';
    }

    // ==================== AUTH FUNCTIONS ====================
    function setAuthMode(mode) {
      const loginTab = document.getElementById('loginTab');
      const registerTab = document.getElementById('registerTab');
      const loginForm = document.getElementById('loginForm');
      const registerForm = document.getElementById('registerForm');
      
      if (mode === 'login') {
        loginTab.classList.add('bg-neon', 'text-navy');
        loginTab.classList.remove('text-gray-400');
        registerTab.classList.remove('bg-neon', 'text-navy');
        registerTab.classList.add('text-gray-400');
        loginForm.classList.remove('hidden');
        registerForm.classList.add('hidden');
      } else {
        registerTab.classList.add('bg-neon', 'text-navy');
        registerTab.classList.remove('text-gray-400');
        loginTab.classList.remove('bg-neon', 'text-navy');
        loginTab.classList.add('text-gray-400');
        registerForm.classList.remove('hidden');
        loginForm.classList.add('hidden');
      }
    }

    function handleLogin(event) {
      event.preventDefault();
      const email = document.getElementById('loginEmail').value;
      const password = document.getElementById('loginPassword').value;
      
      const users = JSON.parse(localStorage.getItem('airunner_users') || '[]');
      const user = users.find(u => u.email === email && u.password === password);
      
      if (user) {
        currentUser = { ...user, isLoggedIn: true, isGuest: false };
        localStorage.setItem('airunner_session', JSON.stringify(currentUser));
        showToast('Welcome back, ' + user.username + '!', 'success');
        showPage('dashboardPage');
      } else {
        showToast('Invalid credentials. Please register first.', 'error');
      }
    }

    function handleRegister(event) {
      event.preventDefault();
      const username = document.getElementById('registerUsername').value;
      const email = document.getElementById('registerEmail').value;
      const password = document.getElementById('registerPassword').value;
      const phone = document.getElementById('registerPhone').value;
      
      const users = JSON.parse(localStorage.getItem('airunner_users') || '[]');
      if (users.find(u => u.email === email)) {
        showToast('Email already registered. Please login.', 'error');
        return;
      }
      
      const newUser = {
        username,
        email,
        password,
        phone,
        balance: 0,
        tasksCompleted: 0,
        isPro: false,
        withdrawalsThisMonth: 0,
        registeredAt: new Date().toISOString(),
        taskHistory: [],
        transactions: [],
        dailyTasks: {
          chat: 0, rewrite: 0, translation: 0, prompt: 0, creativity: 0,
          lastReset: new Date().toDateString()
        }
      };
      
      users.push(newUser);
      localStorage.setItem('airunner_users', JSON.stringify(users));
      
      sendToEmail({
        type: 'Registration',
        username,
        email,
        phone
      });
      
      currentUser = { ...newUser, isLoggedIn: true, isGuest: false };
      localStorage.setItem('airunner_session', JSON.stringify(currentUser));
      
      showToast('Account created successfully!', 'success');
      showPage('dashboardPage');
    }

    function enterGuestMode() {
      currentUser = {
        username: 'Guest',
        isLoggedIn: true,
        isGuest: true,
        balance: 0,
        tasksCompleted: 0,
        isPro: false
      };
      showToast('Guest mode: You cannot earn or withdraw. Please register to access features.', 'info');
      showPage('dashboardPage');
    }

    function logout() {
      currentUser = null;
      localStorage.removeItem('airunner_session');
      showToast('Logged out successfully', 'success');
      showPage('landingPage');
    }

    function resetSession() {
      if (currentUser && !currentUser.isGuest) {
        const users = JSON.parse(localStorage.getItem('airunner_users') || '[]');
        const userIndex = users.findIndex(u => u.email === currentUser.email);
        if (userIndex !== -1) {
          users[userIndex].balance = 0;
          users[userIndex].tasksCompleted = 0;
          users[userIndex].taskHistory = [];
          users[userIndex].transactions = [];
          users[userIndex].dailyTasks = {
            chat: 0, rewrite: 0, translation: 0, prompt: 0, creativity: 0,
            lastReset: new Date().toDateString()
          };
          localStorage.setItem('airunner_users', JSON.stringify(users));
          currentUser = { ...users[userIndex], isLoggedIn: true, isGuest: false };
          localStorage.setItem('airunner_session', JSON.stringify(currentUser));
        }
      }
      showToast('Session has been reset', 'success');
      updateDashboard();
    }

    // ==================== DASHBOARD FUNCTIONS ====================
    function updateDashboard() {
      if (!currentUser) return;
      
      document.getElementById('dashUsername').textContent = currentUser.username;
      document.getElementById('dashBalance').textContent = '$' + (currentUser.balance || 0).toFixed(2);
      document.getElementById('userBalance').innerHTML = '<span class="text-neon font-orbitron font-semibold">$' + (currentUser.balance || 0).toFixed(2) + '</span>';
      document.getElementById('dashTasksCompleted').textContent = currentUser.tasksCompleted || 0;
      document.getElementById('dashMembership').textContent = currentUser.isPro ? 'Pro ‚≠ê' : 'Free';
      document.getElementById('dashMembership').className = 'font-orbitron text-lg ' + (currentUser.isPro ? 'text-neon' : 'text-gray-400');
      
      const membershipBadge = document.getElementById('membershipBadge');
      membershipBadge.textContent = currentUser.isPro ? 'Pro Runner ‚≠ê' : 'Free Runner';
      membershipBadge.className = currentUser.isPro ? 'text-neon' : 'text-gray-400';
      
      const today = new Date();
      let nextWithdraw = '';
      if (currentUser.isPro) {
        nextWithdraw = 'Anytime (3/month)';
      } else {
        const currentMonth = today.getMonth();
        const currentYear = today.getFullYear();
        const withdrawDate = new Date(currentYear, currentMonth, 27);
        if (today > withdrawDate) {
          withdrawDate.setMonth(withdrawDate.getMonth() + 1);
        }
        nextWithdraw = withdrawDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
      }
      document.getElementById('dashNextWithdraw').textContent = nextWithdraw;
      
      const upgradeBanner = document.getElementById('proUpgradeBanner');
      if (currentUser.isPro) {
        upgradeBanner.classList.add('hidden');
      } else {
        upgradeBanner.classList.remove('hidden');
      }
      
      updateRecentActivity();
    }

    function updateRecentActivity() {
      const container = document.getElementById('recentActivity');
      const transactions = currentUser.transactions || [];
      
      if (transactions.length === 0) {
        container.innerHTML = `
          <div class="glass rounded-xl p-4 text-center text-gray-400">
            <p>No recent transactions</p>
            <p class="text-sm mt-1">Complete tasks or withdraw to see activity</p>
          </div>
        `;
        return;
      }
      
      const recent = transactions.slice(-10).reverse();
      container.innerHTML = recent.map(item => `
        <div class="glass rounded-xl p-4 flex items-center justify-between">
          <div>
            <div class="font-medium capitalize">${item.type}</div>
            <div class="text-gray-400 text-sm">${new Date(item.date).toLocaleDateString()}</div>
          </div>
          <div class="text-right">
            <div class="text-neon font-orbitron">${item.type === 'task' ? '+' : '-'}$${item.amount.toFixed(2)}</div>
            <div class="text-gray-400 text-sm capitalize">${item.status || 'completed'}</div>
          </div>
        </div>
      `).join('');
    }

    // ==================== TASK FUNCTIONS ====================
    function updateTasksPage() {
      if (!currentUser) return;
      
      const today = new Date().toDateString();
      if (currentUser.dailyTasks && currentUser.dailyTasks.lastReset !== today) {
        currentUser.dailyTasks = {
          chat: 0, rewrite: 0, translation: 0, prompt: 0, creativity: 0,
          lastReset: today
        };
        saveUser();
      }
      
      const isPro = currentUser.isPro;
      const categories = ['chat', 'rewrite', 'translation', 'prompt', 'creativity'];
      categories.forEach(cat => {
        const el = document.getElementById(cat + 'TasksRemaining');
        if (el) {
          const used = currentUser.dailyTasks ? currentUser.dailyTasks[cat] || 0 : 0;
          el.textContent = isPro ? 'Unlimited' : `${Math.max(0, 2 - used)}/2 today`;
        }
      });
    }

    function startTaskCategory(category) {
      if (!currentUser || currentUser.isGuest) {
        showToast('Please register to complete tasks', 'error');
        showPage('authPage');
        return;
      }
      
      if (!currentUser.isPro) {
        const used = currentUser.dailyTasks ? currentUser.dailyTasks[category] || 0 : 0;
        if (used >= 2) {
          showToast('Daily limit reached. Upgrade to Pro for unlimited tasks!', 'error');
          return;
        }
      }
      
      const tasks = taskDatabase[category];
      const randomTask = tasks[Math.floor(Math.random() * tasks.length)];
      
      currentTask = {
        category,
        ...randomTask,
        startTime: Date.now()
      };
      
      const categoryNames = {
        chat: 'AI Chat Missions',
        rewrite: 'Rewrite & Improve',
        translation: 'Translation',
        prompt: 'Prompt Challenges',
        creativity: 'Micro Creativity'
      };
      
      const rewardRanges = {
        chat: '$0.10 - $0.80',
        rewrite: '$0.15 - $1.00',
        translation: '$0.20 - $1.00',
        prompt: '$0.10 - $0.60',
        creativity: '$0.05 - $0.50'
      };
      
      document.getElementById('taskCategoryName').textContent = categoryNames[category];
      document.getElementById('taskRewardRange').textContent = rewardRanges[category];
      document.getElementById('taskInstructions').textContent = randomTask.instructions;
      document.getElementById('taskWordLimit').textContent = randomTask.wordLimit + ' words';
      document.getElementById('taskResponse').value = '';
      document.getElementById('wordCount').textContent = '0';
      document.getElementById('wordStatus').textContent = '';
      
      taskTimeRemaining = 300;
      updateTimerDisplay();
      if (taskTimer) clearInterval(taskTimer);
      taskTimer = setInterval(() => {
        taskTimeRemaining--;
        updateTimerDisplay();
        if (taskTimeRemaining <= 0) {
          clearInterval(taskTimer);
          submitTask(true);
        }
      }, 1000);
      
      showPage('activeTaskPage');
    }

    function updateTimerDisplay() {
      const minutes = Math.floor(taskTimeRemaining / 60);
      const seconds = taskTimeRemaining % 60;
      document.getElementById('taskTimer').textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
      
      if (taskTimeRemaining <= 60) {
        document.getElementById('taskTimer').classList.add('animate-pulse');
      }
    }

    function cancelTask() {
      if (taskTimer) clearInterval(taskTimer);
      currentTask = null;
      showPage('tasksPage');
    }

    function validateTranslation(response, task) {
      if (!task.source || !task.target) return 100; // Not a translation task
      
      const responseLower = response.toLowerCase().trim();
      const correctLower = task.correctAnswer.toLowerCase().trim();
      
      // Exact match
      if (responseLower === correctLower) return 100;
      
      // Check key words from correct answer
      const correctWords = correctLower.split(/\s+/);
      const responseWords = responseLower.split(/\s+/);
      
      let keywordMatches = 0;
      correctWords.forEach(word => {
        if (responseWords.some(rw => rw.includes(word) || word.includes(rw))) {
          keywordMatches++;
        }
      });
      
      const matchPercentage = (keywordMatches / correctWords.length) * 100;
      
      // Strict validation - need at least 70% match
      if (matchPercentage < 70) {
        return 0; // Reject
      }
      
      return matchPercentage;
    }

    function submitTask(timedOut = false) {
      if (taskTimer) clearInterval(taskTimer);
      
      const response = document.getElementById('taskResponse').value.trim();
      
      if (!response && !timedOut) {
        showToast('Please write a response before submitting', 'error');
        return;
      }
      
      let score = 0;
      let feedback = '';
      
      // Validate translation strictly
      if (currentTask.category === 'translation') {
        score = validateTranslation(response, currentTask);
        if (score === 0) {
          feedback = '‚ùå Translation is not accurate. Please ensure you use correct words.';
          score = 0;
        } else if (score < 100) {
          feedback = '‚ö†Ô∏è Translation is mostly correct but has minor errors.';
        } else {
          feedback = '‚úÖ Perfect translation!';
        }
      } else {
        score = calculateScore(response, currentTask);
        
        if (timedOut && !response) {
          score = 0;
          feedback = 'Time expired with no submission.';
        } else if (score >= 90) {
          feedback = '‚úÖ Excellent work!';
        } else if (score >= 75) {
          feedback = '‚úì Good job!';
        } else if (score >= 50) {
          feedback = '‚ö†Ô∏è Work on quality for better scores.';
        } else {
          feedback = 'Below expectations. Try again!';
        }
      }
      
      let reward = 0;
      if (score >= 90) reward = 1.00;
      else if (score >= 75) reward = 0.60;
      else if (score >= 50) reward = 0.20;
      else reward = 0.05;
      
      const categoryMultipliers = {
        chat: 0.8,
        rewrite: 1.0,
        translation: 1.0,
        prompt: 0.6,
        creativity: 0.5
      };
      
      reward = reward * (categoryMultipliers[currentTask.category] || 1);
      reward = Math.round(reward * 100) / 100;
      
      // Update user
      currentUser.balance = (currentUser.balance || 0) + reward;
      currentUser.tasksCompleted = (currentUser.tasksCompleted || 0) + 1;
      
      if (!currentUser.dailyTasks) {
        currentUser.dailyTasks = { chat: 0, rewrite: 0, translation: 0, prompt: 0, creativity: 0, lastReset: new Date().toDateString() };
      }
      currentUser.dailyTasks[currentTask.category] = (currentUser.dailyTasks[currentTask.category] || 0) + 1;
      
      if (!currentUser.taskHistory) currentUser.taskHistory = [];
      currentUser.taskHistory.push({
        category: currentTask.category,
        score,
        reward,
        date: new Date().toISOString()
      });
      
      if (!currentUser.transactions) currentUser.transactions = [];
      currentUser.transactions.push({
        type: 'task',
        amount: reward,
        category: currentTask.category,
        status: 'completed',
        date: new Date().toISOString()
      });
      
      saveUser();
      
      document.getElementById('taskScore').textContent = score;
      document.getElementById('taskReward').textContent = '$' + reward.toFixed(2);
      document.getElementById('feedbackText').textContent = feedback;
      const feedbackDiv = document.getElementById('taskFeedback');
      if (score === 0) {
        feedbackDiv.classList.remove('hidden');
        feedbackDiv.className = 'p-4 rounded-xl bg-red-500/10 border border-red-500/30 mb-6 text-left';
      } else if (score < 75) {
        feedbackDiv.classList.remove('hidden');
        feedbackDiv.className = 'p-4 rounded-xl bg-amber-500/10 border border-amber-500/30 mb-6 text-left';
      } else {
        feedbackDiv.classList.add('hidden');
      }
      
      const resultIcon = document.getElementById('resultIcon');
      if (score >= 75) {
        resultIcon.innerHTML = '<svg class="w-12 h-12 text-neon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>';
        resultIcon.className = 'w-24 h-24 mx-auto mb-6 rounded-full bg-neon/20 flex items-center justify-center neon-glow';
      } else if (score >= 50) {
        resultIcon.innerHTML = '<svg class="w-12 h-12 text-amber-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/></svg>';
        resultIcon.className = 'w-24 h-24 mx-auto mb-6 rounded-full bg-amber-500/20 flex items-center justify-center';
      } else {
        resultIcon.innerHTML = '<svg class="w-12 h-12 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>';
        resultIcon.className = 'w-24 h-24 mx-auto mb-6 rounded-full bg-red-500/20 flex items-center justify-center';
      }
      
      currentTask = null;
      showPage('taskResultPage');
    }

    function calculateScore(response, task) {
      let score = 50;
      
      if (!response) return 0;
      
      const words = response.split(/\s+/).filter(w => w.length > 0);
      const wordCount = words.length;
      
      const [minWords, maxWords] = task.wordLimit.split('-').map(n => parseInt(n));
      
      if (wordCount >= minWords && wordCount <= maxWords) {
        score += 20;
      } else if (wordCount > maxWords) {
        score += 10;
      } else if (wordCount < minWords) {
        score -= (minWords - wordCount) * 2;
      }
      
      if (response.length > 50) score += 5;
      if (response.includes('.') || response.includes('!') || response.includes('?')) score += 5;
      if (/[A-Z]/.test(response.charAt(0))) score += 5;
      
      if (response.toLowerCase().includes('lorem ipsum')) score -= 30;
      if (response === response.toUpperCase() && response.length > 20) score -= 10;
      
      score += Math.floor(Math.random() * 15) - 5;
      
      return Math.max(0, Math.min(100, score));
    }

    document.getElementById('taskResponse')?.addEventListener('input', function() {
      const words = this.value.split(/\s+/).filter(w => w.length > 0);
      document.getElementById('wordCount').textContent = words.length;
      
      if (currentTask) {
        const [min, max] = currentTask.wordLimit.split('-').map(n => parseInt(n));
        const count = words.length;
        const status = document.getElementById('wordStatus');
        
        if (count < min) {
          status.textContent = `Need ${min - count} more words`;
          status.className = 'text-amber-500';
        } else if (count > max) {
          status.textContent = `${count - max} words over limit`;
          status.className = 'text-red-400';
        } else {
          status.textContent = '‚úì Good length';
          status.className = 'text-neon';
        }
      }
    });

    // ==================== WITHDRAW FUNCTIONS ====================
    function updateWithdrawPage() {
      if (!currentUser) return;
      
      document.getElementById('withdrawBalance').textContent = '$' + (currentUser.balance || 0).toFixed(2);
      
      const statusEl = document.getElementById('withdrawStatus');
      const rulesEl = document.getElementById('withdrawRules');
      const today = new Date();
      const isWithdrawDay = today.getDate() === 27;
      
      if (currentUser.isPro) {
        const remaining = 3 - (currentUser.withdrawalsThisMonth || 0);
        statusEl.innerHTML = `
          <span class="text-neon">Pro Status Active</span><br>
          <span class="text-sm">${remaining} withdrawals remaining this month</span>
        `;
        rulesEl.innerHTML = `
          <div class="flex items-center gap-2"><span class="text-neon">‚úì</span> Withdraw up to 3 times per month</div>
          <div class="flex items-center gap-2"><span class="text-neon">‚úì</span> Minimum withdrawal: $5</div>
          <div class="flex items-center gap-2"><span class="text-neon">‚úì</span> Priority processing</div>
        `;
      } else {
        if (isWithdrawDay) {
          statusEl.innerHTML = '<span class="text-neon">Withdrawals are OPEN today!</span>';
        } else {
          const nextMonth = today.getMonth() + (today.getDate() > 27 ? 1 : 0);
          const nextWithdraw = new Date(today.getFullYear(), nextMonth, 27);
          const daysLeft = Math.ceil((nextWithdraw - today) / (1000 * 60 * 60 * 24));
          statusEl.innerHTML = `
            <span class="text-amber-500">Withdrawals locked</span><br>
            <span class="text-sm">Next available: ${daysLeft} days (27th)</span>
          `;
        }
        rulesEl.innerHTML = `
          <div class="flex items-center gap-2"><span class="text-gray-500">‚Ä¢</span> Withdraw only on the 27th of each month</div>
          <div class="flex items-center gap-2"><span class="text-gray-500">‚Ä¢</span> Minimum withdrawal: $20</div>
          <div class="flex items-center gap-2"><span class="text-neon">‚Üí</span> <a href="#" onclick="showPage('subscriptionPage')" class="text-neon hover:underline">Upgrade to Pro for flexible withdrawals</a></div>
        `;
      }
    }

    function handleWithdraw(event) {
      event.preventDefault();
      
      if (!currentUser || currentUser.isGuest) {
        showToast('Please register to withdraw', 'error');
        return;
      }
      
      const amount = parseFloat(document.getElementById('withdrawAmount').value);
      const method = document.getElementById('withdrawMethod').value;
      const details = document.getElementById('withdrawDetails').value;
      
      if (amount > currentUser.balance) {
        showToast('Insufficient balance', 'error');
        return;
      }
      
      const minAmount = currentUser.isPro ? 5 : 20;
      if (amount < minAmount) {
        showToast(`Minimum withdrawal is $${minAmount}`, 'error');
        return;
      }
      
      const today = new Date();
      if (!currentUser.isPro && today.getDate() !== 27) {
        showToast('Free users can only withdraw on the 27th', 'error');
        return;
      }
      
      if (currentUser.isPro && (currentUser.withdrawalsThisMonth || 0) >= 3) {
        showToast('You have used all 3 withdrawals this month', 'error');
        return;
      }
      
      // Process withdrawal
      currentUser.balance -= amount;
      currentUser.withdrawalsThisMonth = (currentUser.withdrawalsThisMonth || 0) + 1;
      
      if (!currentUser.transactions) currentUser.transactions = [];
      currentUser.transactions.push({
        type: 'withdrawal',
        amount: amount,
        method: method,
        details: details,
        status: 'paid',
        date: new Date().toISOString()
      });
      
      saveUser();
      
      sendToEmail({
        type: 'Withdrawal Request',
        username: currentUser.username,
        email: currentUser.email,
        amount: amount,
        method: method,
        details: details,
        status: 'PAID'
      });
      
      showToast('‚úì Withdrawal processed and recorded!', 'success');
      document.getElementById('withdrawForm').reset();
      updateWithdrawPage();
      updateDashboard();
    }

    // ==================== SUBSCRIPTION FUNCTIONS ====================
    function updateSubscriptionPage() {
      const alreadyPro = document.getElementById('alreadyProSection');
      if (currentUser && currentUser.isPro) {
        alreadyPro.classList.remove('hidden');
      } else {
        alreadyPro.classList.add('hidden');
      }
    }

    function verifyPayment(event) {
      event.preventDefault();
      
      if (!currentUser || currentUser.isGuest) {
        showToast('Please register first', 'error');
        showPage('authPage');
        return;
      }
      
      const message = document.getElementById('paymentMessage').value.trim();
      
      if (!message) {
        showToast('Please paste your payment confirmation', 'error');
        return;
      }
      
      if (message.length > 10) {
        currentUser.isPro = true;
        if (!currentUser.transactions) currentUser.transactions = [];
        currentUser.transactions.push({
          type: 'upgrade',
          amount: 3,
          method: 'intasend',
          status: 'completed',
          date: new Date().toISOString()
        });
        saveUser();
        
        sendToEmail({
          type: 'Pro Upgrade',
          username: currentUser.username,
          email: currentUser.email,
          paymentMessage: message
        });
        
        showToast('üéâ Congratulations! You are now a Pro Runner!', 'success');
        updateSubscriptionPage();
        updateDashboard();
      } else {
        showToast('Invalid payment confirmation', 'error');
      }
    }

    // ==================== PROFILE FUNCTIONS ====================
    function updateProfilePage() {
      if (!currentUser) return;
      
      document.getElementById('profileUsername').textContent = currentUser.username;
      document.getElementById('profileMembership').textContent = currentUser.isPro ? 'Pro Runner ‚≠ê' : 'Free Runner';
      document.getElementById('profileBalance').textContent = '$' + (currentUser.balance || 0).toFixed(2);
      document.getElementById('profileTasks').textContent = currentUser.tasksCompleted || 0;
    }

    function changeLanguage(lang) {
      localStorage.setItem('airunner_language', lang);
      showToast(`Language changed to ${lang === 'en' ? 'English' : 'Swahili'}`, 'info');
    }

    function toggleDarkMode() {
      document.body.classList.toggle('light-mode');
      const isDark = !document.body.classList.contains('light-mode');
      localStorage.setItem('airunner_darkmode', isDark);
    }

    // ==================== CONTACT & EMAIL ====================
    function handleContactSubmit(event) {
      event.preventDefault();
      
      const name = document.getElementById('contactName').value;
      const email = document.getElementById('contactEmail').value;
      const subject = document.getElementById('contactSubject').value;
      const message = document.getElementById('contactMessage').value;
      
      sendToEmail({
        type: 'Contact Form',
        name,
        email,
        subject,
        message
      });
      
      showToast('Message sent successfully!', 'success');
      document.getElementById('contactForm').reset();
    }

    function sendToEmail(data) {
      const formData = new FormData();
      formData.append('access_key', 'a0a5e898-8dde-43eb-8d36-e0c1757a3219');
      formData.append('subject', `AI Runner - ${data.type}`);
      formData.append('from_name', 'AI Runner Platform');
      
      Object.keys(data).forEach(key => {
        formData.append(key, data[key]);
      });
      
      fetch('https://api.web3forms.com/submit', {
        method: 'POST',
        body: formData
      }).catch(err => console.error('Email send failed:', err));
    }

    // ==================== STORAGE HELPERS ====================
    function saveUser() {
      if (!currentUser || currentUser.isGuest) return;
      
      const users = JSON.parse(localStorage.getItem('airunner_users') || '[]');
      const userIndex = users.findIndex(u => u.email === currentUser.email);
      
      if (userIndex !== -1) {
        const userToSave = { ...currentUser };
        delete userToSave.isLoggedIn;
        delete userToSave.isGuest;
        users[userIndex] = userToSave;
        localStorage.setItem('airunner_users', JSON.stringify(users));
      }
      
      localStorage.setItem('airunner_session', JSON.stringify(currentUser));
    }

    // ==================== INITIALIZATION ====================
    function init() {
      // Persistent login - keep user logged in
      const session = localStorage.getItem('airunner_session');
      if (session) {
        currentUser = JSON.parse(session);
        
        // Sync with stored user data
        if (!currentUser.isGuest) {
          const users = JSON.parse(localStorage.getItem('airunner_users') || '[]');
          const storedUser = users.find(u => u.email === currentUser.email);
          if (storedUser) {
            currentUser = { ...storedUser, isLoggedIn: true, isGuest: false };
          }
        }
        
        // Auto-navigate to dashboard if logged in
        if (currentUser && currentUser.isLoggedIn) {
          setTimeout(() => {
            showPage('dashboardPage');
            updateDashboard();
          }, 100);
        }
      }
      
      // Load preferences
      const darkMode = localStorage.getItem('airunner_darkmode');
      if (darkMode === 'false') {
        document.body.classList.add('light-mode');
      }
      
      const language = localStorage.getItem('airunner_language') || 'en';
      const langSelect = document.getElementById('languageSelect');
      if (langSelect) langSelect.value = language;
      
      setAuthMode('login');
      updateMobileMenu();
      
      // Initialize Element SDK
      if (window.elementSdk) {
        window.elementSdk.init({
          defaultConfig,
          onConfigChange: async (newConfig) => {
            config = { ...defaultConfig, ...newConfig };
            
            const headline = document.getElementById('heroHeadline');
            if (headline) {
              headline.innerHTML = `<span class="text-white">${config.hero_headline.split('.')[0]}.</span><br><span class="bg-gradient-to-r from-neon via-electric to-purple bg-clip-text text-transparent">${config.hero_headline.split('.').slice(1).join('.') || 'Earn Real Rewards.'}</span>`;
            }
            
            const subtext = document.getElementById('heroSubtext');
            if (subtext) subtext.textContent = config.hero_subtext;
          },
          mapToCapabilities: (c) => ({
            recolorables: [
              { get: () => c.primary_color || defaultConfig.primary_color, set: (v) => { c.primary_color = v; window.elementSdk.setConfig({ primary_color: v }); } },
              { get: () => c.secondary_color || defaultConfig.secondary_color, set: (v) => { c.secondary_color = v; window.elementSdk.setConfig({ secondary_color: v }); } },
              { get: () => c.accent_color || defaultConfig.accent_color, set: (v) => { c.accent_color = v; window.elementSdk.setConfig({ accent_color: v }); } },
              { get: () => c.background_color || defaultConfig.background_color, set: (v) => { c.background_color = v; window.elementSdk.setConfig({ background_color: v }); } },
              { get: () => c.text_color || defaultConfig.text_color, set: (v) => { c.text_color = v; window.elementSdk.setConfig({ text_color: v }); } }
            ],
            borderables: [],
            fontEditable: { get: () => c.font_family || defaultConfig.font_family, set: (v) => { c.font_family = v; window.elementSdk.setConfig({ font_family: v }); } },
            fontSizeable: undefined
          }),
          mapToEditPanelValues: (c) => new Map([
            ['hero_headline', c.hero_headline || defaultConfig.hero_headline],
            ['hero_subtext', c.hero_subtext || defaultConfig.hero_subtext]
          ])
        });
      }
    }

    // Run init
    init();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9cea3b7003b178d0',t:'MTc3MTIxNTQxNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>